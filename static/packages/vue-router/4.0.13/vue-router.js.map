{"version":3,"file":"lib/vue-router.js","mappings":"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","sources":["webpack://systemjs-test/./node_modules/@vue/devtools-api/lib/esm/const.js","webpack://systemjs-test/./node_modules/@vue/devtools-api/lib/esm/env.js","webpack://systemjs-test/./node_modules/@vue/devtools-api/lib/esm/index.js","webpack://systemjs-test/./node_modules/@vue/devtools-api/lib/esm/proxy.js","webpack://systemjs-test/./node_modules/vue-router/dist/vue-router.cjs.js","webpack://systemjs-test/external amd \"vue\"","webpack://systemjs-test/webpack/bootstrap","webpack://systemjs-test/webpack/runtime/define property getters","webpack://systemjs-test/webpack/runtime/global","webpack://systemjs-test/webpack/runtime/hasOwnProperty shorthand","webpack://systemjs-test/webpack/runtime/make namespace object","webpack://systemjs-test/webpack/before-startup","webpack://systemjs-test/webpack/startup","webpack://systemjs-test/webpack/after-startup"],"sourcesContent":["export const HOOK_SETUP = 'devtools-plugin:setup';\nexport const HOOK_PLUGIN_SETTINGS_SET = 'plugin:settings:set';\n","export function getDevtoolsGlobalHook() {\n    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nexport function getTarget() {\n    // @ts-ignore\n    return (typeof navigator !== 'undefined' && typeof window !== 'undefined')\n        ? window\n        : typeof global !== 'undefined'\n            ? global\n            : {};\n}\nexport const isProxyAvailable = typeof Proxy === 'function';\n","import { getTarget, getDevtoolsGlobalHook, isProxyAvailable } from './env';\nimport { HOOK_SETUP } from './const';\nimport { ApiProxy } from './proxy';\nexport * from './api';\nexport * from './plugin';\nexport function setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n    const descriptor = pluginDescriptor;\n    const target = getTarget();\n    const hook = getDevtoolsGlobalHook();\n    const enableProxy = isProxyAvailable && descriptor.enableEarlyProxy;\n    if (hook && (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !enableProxy)) {\n        hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n    }\n    else {\n        const proxy = enableProxy ? new ApiProxy(descriptor, hook) : null;\n        const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n        list.push({\n            pluginDescriptor: descriptor,\n            setupFn,\n            proxy,\n        });\n        if (proxy)\n            setupFn(proxy.proxiedTarget);\n    }\n}\n","import { HOOK_PLUGIN_SETTINGS_SET } from './const';\nexport class ApiProxy {\n    constructor(plugin, hook) {\n        this.target = null;\n        this.targetQueue = [];\n        this.onQueue = [];\n        this.plugin = plugin;\n        this.hook = hook;\n        const defaultSettings = {};\n        if (plugin.settings) {\n            for (const id in plugin.settings) {\n                const item = plugin.settings[id];\n                defaultSettings[id] = item.defaultValue;\n            }\n        }\n        const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n        let currentSettings = Object.assign({}, defaultSettings);\n        try {\n            const raw = localStorage.getItem(localSettingsSaveId);\n            const data = JSON.parse(raw);\n            Object.assign(currentSettings, data);\n        }\n        catch (e) {\n            // noop\n        }\n        this.fallbacks = {\n            getSettings() {\n                return currentSettings;\n            },\n            setSettings(value) {\n                try {\n                    localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n                }\n                catch (e) {\n                    // noop\n                }\n                currentSettings = value;\n            },\n        };\n        if (hook) {\n            hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n                if (pluginId === this.plugin.id) {\n                    this.fallbacks.setSettings(value);\n                }\n            });\n        }\n        this.proxiedOn = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target.on[prop];\n                }\n                else {\n                    return (...args) => {\n                        this.onQueue.push({\n                            method: prop,\n                            args,\n                        });\n                    };\n                }\n            },\n        });\n        this.proxiedTarget = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target[prop];\n                }\n                else if (prop === 'on') {\n                    return this.proxiedOn;\n                }\n                else if (Object.keys(this.fallbacks).includes(prop)) {\n                    return (...args) => {\n                        this.targetQueue.push({\n                            method: prop,\n                            args,\n                            resolve: () => { },\n                        });\n                        return this.fallbacks[prop](...args);\n                    };\n                }\n                else {\n                    return (...args) => {\n                        return new Promise(resolve => {\n                            this.targetQueue.push({\n                                method: prop,\n                                args,\n                                resolve,\n                            });\n                        });\n                    };\n                }\n            },\n        });\n    }\n    async setRealTarget(target) {\n        this.target = target;\n        for (const item of this.onQueue) {\n            this.target.on[item.method](...item.args);\n        }\n        for (const item of this.targetQueue) {\n            item.resolve(await this.target[item.method](...item.args));\n        }\n    }\n}\n","/*!\n  * vue-router v4.0.13\n  * (c) 2022 Eduardo San Martin Morote\n  * @license MIT\n  */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar vue = require('vue');\nvar devtoolsApi = require('@vue/devtools-api');\n\nconst hasSymbol = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\r\nconst PolySymbol = (name) => \r\n// vr = vue router\r\nhasSymbol\r\n    ? Symbol('[vue-router]: ' + name )\r\n    : ('[vue-router]: ' ) + name;\r\n// rvlm = Router View Location Matched\r\n/**\r\n * RouteRecord being rendered by the closest ancestor Router View. Used for\r\n * `onBeforeRouteUpdate` and `onBeforeRouteLeave`. rvlm stands for Router View\r\n * Location Matched\r\n *\r\n * @internal\r\n */\r\nconst matchedRouteKey = /*#__PURE__*/ PolySymbol('router view location matched' );\r\n/**\r\n * Allows overriding the router view depth to control which component in\r\n * `matched` is rendered. rvd stands for Router View Depth\r\n *\r\n * @internal\r\n */\r\nconst viewDepthKey = /*#__PURE__*/ PolySymbol('router view depth' );\r\n/**\r\n * Allows overriding the router instance returned by `useRouter` in tests. r\r\n * stands for router\r\n *\r\n * @internal\r\n */\r\nconst routerKey = /*#__PURE__*/ PolySymbol('router' );\r\n/**\r\n * Allows overriding the current route returned by `useRoute` in tests. rl\r\n * stands for route location\r\n *\r\n * @internal\r\n */\r\nconst routeLocationKey = /*#__PURE__*/ PolySymbol('route location' );\r\n/**\r\n * Allows overriding the current route used by router-view. Internally this is\r\n * used when the `route` prop is passed.\r\n *\r\n * @internal\r\n */\r\nconst routerViewLocationKey = /*#__PURE__*/ PolySymbol('router view location' );\n\nconst isBrowser = typeof window !== 'undefined';\n\nfunction isESModule(obj) {\r\n    return obj.__esModule || (hasSymbol && obj[Symbol.toStringTag] === 'Module');\r\n}\r\nconst assign = Object.assign;\r\nfunction applyToParams(fn, params) {\r\n    const newParams = {};\r\n    for (const key in params) {\r\n        const value = params[key];\r\n        newParams[key] = Array.isArray(value) ? value.map(fn) : fn(value);\r\n    }\r\n    return newParams;\r\n}\r\nconst noop = () => { };\n\nfunction warn(msg) {\r\n    // avoid using ...args as it breaks in older Edge builds\r\n    const args = Array.from(arguments).slice(1);\r\n    console.warn.apply(console, ['[Vue Router warn]: ' + msg].concat(args));\r\n}\n\nconst TRAILING_SLASH_RE = /\\/$/;\r\nconst removeTrailingSlash = (path) => path.replace(TRAILING_SLASH_RE, '');\r\n/**\r\n * Transforms an URI into a normalized history location\r\n *\r\n * @param parseQuery\r\n * @param location - URI to normalize\r\n * @param currentLocation - current absolute location. Allows resolving relative\r\n * paths. Must start with `/`. Defaults to `/`\r\n * @returns a normalized history location\r\n */\r\nfunction parseURL(parseQuery, location, currentLocation = '/') {\r\n    let path, query = {}, searchString = '', hash = '';\r\n    // Could use URL and URLSearchParams but IE 11 doesn't support it\r\n    const searchPos = location.indexOf('?');\r\n    const hashPos = location.indexOf('#', searchPos > -1 ? searchPos : 0);\r\n    if (searchPos > -1) {\r\n        path = location.slice(0, searchPos);\r\n        searchString = location.slice(searchPos + 1, hashPos > -1 ? hashPos : location.length);\r\n        query = parseQuery(searchString);\r\n    }\r\n    if (hashPos > -1) {\r\n        path = path || location.slice(0, hashPos);\r\n        // keep the # character\r\n        hash = location.slice(hashPos, location.length);\r\n    }\r\n    // no search and no query\r\n    path = resolveRelativePath(path != null ? path : location, currentLocation);\r\n    // empty path means a relative query or hash `?foo=f`, `#thing`\r\n    return {\r\n        fullPath: path + (searchString && '?') + searchString + hash,\r\n        path,\r\n        query,\r\n        hash,\r\n    };\r\n}\r\n/**\r\n * Stringifies a URL object\r\n *\r\n * @param stringifyQuery\r\n * @param location\r\n */\r\nfunction stringifyURL(stringifyQuery, location) {\r\n    const query = location.query ? stringifyQuery(location.query) : '';\r\n    return location.path + (query && '?') + query + (location.hash || '');\r\n}\r\n/**\r\n * Strips off the base from the beginning of a location.pathname in a non\r\n * case-sensitive way.\r\n *\r\n * @param pathname - location.pathname\r\n * @param base - base to strip off\r\n */\r\nfunction stripBase(pathname, base) {\r\n    // no base or base is not found at the beginning\r\n    if (!base || !pathname.toLowerCase().startsWith(base.toLowerCase()))\r\n        return pathname;\r\n    return pathname.slice(base.length) || '/';\r\n}\r\n/**\r\n * Checks if two RouteLocation are equal. This means that both locations are\r\n * pointing towards the same {@link RouteRecord} and that all `params`, `query`\r\n * parameters and `hash` are the same\r\n *\r\n * @param a - first {@link RouteLocation}\r\n * @param b - second {@link RouteLocation}\r\n */\r\nfunction isSameRouteLocation(stringifyQuery, a, b) {\r\n    const aLastIndex = a.matched.length - 1;\r\n    const bLastIndex = b.matched.length - 1;\r\n    return (aLastIndex > -1 &&\r\n        aLastIndex === bLastIndex &&\r\n        isSameRouteRecord(a.matched[aLastIndex], b.matched[bLastIndex]) &&\r\n        isSameRouteLocationParams(a.params, b.params) &&\r\n        stringifyQuery(a.query) === stringifyQuery(b.query) &&\r\n        a.hash === b.hash);\r\n}\r\n/**\r\n * Check if two `RouteRecords` are equal. Takes into account aliases: they are\r\n * considered equal to the `RouteRecord` they are aliasing.\r\n *\r\n * @param a - first {@link RouteRecord}\r\n * @param b - second {@link RouteRecord}\r\n */\r\nfunction isSameRouteRecord(a, b) {\r\n    // since the original record has an undefined value for aliasOf\r\n    // but all aliases point to the original record, this will always compare\r\n    // the original record\r\n    return (a.aliasOf || a) === (b.aliasOf || b);\r\n}\r\nfunction isSameRouteLocationParams(a, b) {\r\n    if (Object.keys(a).length !== Object.keys(b).length)\r\n        return false;\r\n    for (const key in a) {\r\n        if (!isSameRouteLocationParamsValue(a[key], b[key]))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nfunction isSameRouteLocationParamsValue(a, b) {\r\n    return Array.isArray(a)\r\n        ? isEquivalentArray(a, b)\r\n        : Array.isArray(b)\r\n            ? isEquivalentArray(b, a)\r\n            : a === b;\r\n}\r\n/**\r\n * Check if two arrays are the same or if an array with one single entry is the\r\n * same as another primitive value. Used to check query and parameters\r\n *\r\n * @param a - array of values\r\n * @param b - array of values or a single value\r\n */\r\nfunction isEquivalentArray(a, b) {\r\n    return Array.isArray(b)\r\n        ? a.length === b.length && a.every((value, i) => value === b[i])\r\n        : a.length === 1 && a[0] === b;\r\n}\r\n/**\r\n * Resolves a relative path that starts with `.`.\r\n *\r\n * @param to - path location we are resolving\r\n * @param from - currentLocation.path, should start with `/`\r\n */\r\nfunction resolveRelativePath(to, from) {\r\n    if (to.startsWith('/'))\r\n        return to;\r\n    if (!from.startsWith('/')) {\r\n        warn(`Cannot resolve a relative location without an absolute path. Trying to resolve \"${to}\" from \"${from}\". It should look like \"/${from}\".`);\r\n        return to;\r\n    }\r\n    if (!to)\r\n        return from;\r\n    const fromSegments = from.split('/');\r\n    const toSegments = to.split('/');\r\n    let position = fromSegments.length - 1;\r\n    let toPosition;\r\n    let segment;\r\n    for (toPosition = 0; toPosition < toSegments.length; toPosition++) {\r\n        segment = toSegments[toPosition];\r\n        // can't go below zero\r\n        if (position === 1 || segment === '.')\r\n            continue;\r\n        if (segment === '..')\r\n            position--;\r\n        // found something that is not relative path\r\n        else\r\n            break;\r\n    }\r\n    return (fromSegments.slice(0, position).join('/') +\r\n        '/' +\r\n        toSegments\r\n            .slice(toPosition - (toPosition === toSegments.length ? 1 : 0))\r\n            .join('/'));\r\n}\n\nvar NavigationType;\r\n(function (NavigationType) {\r\n    NavigationType[\"pop\"] = \"pop\";\r\n    NavigationType[\"push\"] = \"push\";\r\n})(NavigationType || (NavigationType = {}));\r\nvar NavigationDirection;\r\n(function (NavigationDirection) {\r\n    NavigationDirection[\"back\"] = \"back\";\r\n    NavigationDirection[\"forward\"] = \"forward\";\r\n    NavigationDirection[\"unknown\"] = \"\";\r\n})(NavigationDirection || (NavigationDirection = {}));\r\n/**\r\n * Starting location for Histories\r\n */\r\nconst START = '';\r\n// Generic utils\r\n/**\r\n * Normalizes a base by removing any trailing slash and reading the base tag if\r\n * present.\r\n *\r\n * @param base - base to normalize\r\n */\r\nfunction normalizeBase(base) {\r\n    if (!base) {\r\n        if (isBrowser) {\r\n            // respect <base> tag\r\n            const baseEl = document.querySelector('base');\r\n            base = (baseEl && baseEl.getAttribute('href')) || '/';\r\n            // strip full URL origin\r\n            base = base.replace(/^\\w+:\\/\\/[^\\/]+/, '');\r\n        }\r\n        else {\r\n            base = '/';\r\n        }\r\n    }\r\n    // ensure leading slash when it was removed by the regex above avoid leading\r\n    // slash with hash because the file could be read from the disk like file://\r\n    // and the leading slash would cause problems\r\n    if (base[0] !== '/' && base[0] !== '#')\r\n        base = '/' + base;\r\n    // remove the trailing slash so all other method can just do `base + fullPath`\r\n    // to build an href\r\n    return removeTrailingSlash(base);\r\n}\r\n// remove any character before the hash\r\nconst BEFORE_HASH_RE = /^[^#]+#/;\r\nfunction createHref(base, location) {\r\n    return base.replace(BEFORE_HASH_RE, '#') + location;\r\n}\n\nfunction getElementPosition(el, offset) {\r\n    const docRect = document.documentElement.getBoundingClientRect();\r\n    const elRect = el.getBoundingClientRect();\r\n    return {\r\n        behavior: offset.behavior,\r\n        left: elRect.left - docRect.left - (offset.left || 0),\r\n        top: elRect.top - docRect.top - (offset.top || 0),\r\n    };\r\n}\r\nconst computeScrollPosition = () => ({\r\n    left: window.pageXOffset,\r\n    top: window.pageYOffset,\r\n});\r\nfunction scrollToPosition(position) {\r\n    let scrollToOptions;\r\n    if ('el' in position) {\r\n        const positionEl = position.el;\r\n        const isIdSelector = typeof positionEl === 'string' && positionEl.startsWith('#');\r\n        /**\r\n         * `id`s can accept pretty much any characters, including CSS combinators\r\n         * like `>` or `~`. It's still possible to retrieve elements using\r\n         * `document.getElementById('~')` but it needs to be escaped when using\r\n         * `document.querySelector('#\\\\~')` for it to be valid. The only\r\n         * requirements for `id`s are them to be unique on the page and to not be\r\n         * empty (`id=\"\"`). Because of that, when passing an id selector, it should\r\n         * be properly escaped for it to work with `querySelector`. We could check\r\n         * for the id selector to be simple (no CSS combinators `+ >~`) but that\r\n         * would make things inconsistent since they are valid characters for an\r\n         * `id` but would need to be escaped when using `querySelector`, breaking\r\n         * their usage and ending up in no selector returned. Selectors need to be\r\n         * escaped:\r\n         *\r\n         * - `#1-thing` becomes `#\\31 -thing`\r\n         * - `#with~symbols` becomes `#with\\\\~symbols`\r\n         *\r\n         * - More information about  the topic can be found at\r\n         *   https://mathiasbynens.be/notes/html5-id-class.\r\n         * - Practical example: https://mathiasbynens.be/demo/html5-id\r\n         */\r\n        if (typeof position.el === 'string') {\r\n            if (!isIdSelector || !document.getElementById(position.el.slice(1))) {\r\n                try {\r\n                    const foundEl = document.querySelector(position.el);\r\n                    if (isIdSelector && foundEl) {\r\n                        warn(`The selector \"${position.el}\" should be passed as \"el: document.querySelector('${position.el}')\" because it starts with \"#\".`);\r\n                        // return to avoid other warnings\r\n                        return;\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    warn(`The selector \"${position.el}\" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);\r\n                    // return to avoid other warnings\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        const el = typeof positionEl === 'string'\r\n            ? isIdSelector\r\n                ? document.getElementById(positionEl.slice(1))\r\n                : document.querySelector(positionEl)\r\n            : positionEl;\r\n        if (!el) {\r\n            warn(`Couldn't find element using selector \"${position.el}\" returned by scrollBehavior.`);\r\n            return;\r\n        }\r\n        scrollToOptions = getElementPosition(el, position);\r\n    }\r\n    else {\r\n        scrollToOptions = position;\r\n    }\r\n    if ('scrollBehavior' in document.documentElement.style)\r\n        window.scrollTo(scrollToOptions);\r\n    else {\r\n        window.scrollTo(scrollToOptions.left != null ? scrollToOptions.left : window.pageXOffset, scrollToOptions.top != null ? scrollToOptions.top : window.pageYOffset);\r\n    }\r\n}\r\nfunction getScrollKey(path, delta) {\r\n    const position = history.state ? history.state.position - delta : -1;\r\n    return position + path;\r\n}\r\nconst scrollPositions = new Map();\r\nfunction saveScrollPosition(key, scrollPosition) {\r\n    scrollPositions.set(key, scrollPosition);\r\n}\r\nfunction getSavedScrollPosition(key) {\r\n    const scroll = scrollPositions.get(key);\r\n    // consume it so it's not used again\r\n    scrollPositions.delete(key);\r\n    return scroll;\r\n}\r\n// TODO: RFC about how to save scroll position\r\n/**\r\n * ScrollBehavior instance used by the router to compute and restore the scroll\r\n * position when navigating.\r\n */\r\n// export interface ScrollHandler<ScrollPositionEntry extends HistoryStateValue, ScrollPosition extends ScrollPositionEntry> {\r\n//   // returns a scroll position that can be saved in history\r\n//   compute(): ScrollPositionEntry\r\n//   // can take an extended ScrollPositionEntry\r\n//   scroll(position: ScrollPosition): void\r\n// }\r\n// export const scrollHandler: ScrollHandler<ScrollPosition> = {\r\n//   compute: computeScroll,\r\n//   scroll: scrollToPosition,\r\n// }\n\nlet createBaseLocation = () => location.protocol + '//' + location.host;\r\n/**\r\n * Creates a normalized history location from a window.location object\r\n * @param location -\r\n */\r\nfunction createCurrentLocation(base, location) {\r\n    const { pathname, search, hash } = location;\r\n    // allows hash bases like #, /#, #/, #!, #!/, /#!/, or even /folder#end\r\n    const hashPos = base.indexOf('#');\r\n    if (hashPos > -1) {\r\n        let slicePos = hash.includes(base.slice(hashPos))\r\n            ? base.slice(hashPos).length\r\n            : 1;\r\n        let pathFromHash = hash.slice(slicePos);\r\n        // prepend the starting slash to hash so the url starts with /#\r\n        if (pathFromHash[0] !== '/')\r\n            pathFromHash = '/' + pathFromHash;\r\n        return stripBase(pathFromHash, '');\r\n    }\r\n    const path = stripBase(pathname, base);\r\n    return path + search + hash;\r\n}\r\nfunction useHistoryListeners(base, historyState, currentLocation, replace) {\r\n    let listeners = [];\r\n    let teardowns = [];\r\n    // TODO: should it be a stack? a Dict. Check if the popstate listener\r\n    // can trigger twice\r\n    let pauseState = null;\r\n    const popStateHandler = ({ state, }) => {\r\n        const to = createCurrentLocation(base, location);\r\n        const from = currentLocation.value;\r\n        const fromState = historyState.value;\r\n        let delta = 0;\r\n        if (state) {\r\n            currentLocation.value = to;\r\n            historyState.value = state;\r\n            // ignore the popstate and reset the pauseState\r\n            if (pauseState && pauseState === from) {\r\n                pauseState = null;\r\n                return;\r\n            }\r\n            delta = fromState ? state.position - fromState.position : 0;\r\n        }\r\n        else {\r\n            replace(to);\r\n        }\r\n        // console.log({ deltaFromCurrent })\r\n        // Here we could also revert the navigation by calling history.go(-delta)\r\n        // this listener will have to be adapted to not trigger again and to wait for the url\r\n        // to be updated before triggering the listeners. Some kind of validation function would also\r\n        // need to be passed to the listeners so the navigation can be accepted\r\n        // call all listeners\r\n        listeners.forEach(listener => {\r\n            listener(currentLocation.value, from, {\r\n                delta,\r\n                type: NavigationType.pop,\r\n                direction: delta\r\n                    ? delta > 0\r\n                        ? NavigationDirection.forward\r\n                        : NavigationDirection.back\r\n                    : NavigationDirection.unknown,\r\n            });\r\n        });\r\n    };\r\n    function pauseListeners() {\r\n        pauseState = currentLocation.value;\r\n    }\r\n    function listen(callback) {\r\n        // setup the listener and prepare teardown callbacks\r\n        listeners.push(callback);\r\n        const teardown = () => {\r\n            const index = listeners.indexOf(callback);\r\n            if (index > -1)\r\n                listeners.splice(index, 1);\r\n        };\r\n        teardowns.push(teardown);\r\n        return teardown;\r\n    }\r\n    function beforeUnloadListener() {\r\n        const { history } = window;\r\n        if (!history.state)\r\n            return;\r\n        history.replaceState(assign({}, history.state, { scroll: computeScrollPosition() }), '');\r\n    }\r\n    function destroy() {\r\n        for (const teardown of teardowns)\r\n            teardown();\r\n        teardowns = [];\r\n        window.removeEventListener('popstate', popStateHandler);\r\n        window.removeEventListener('beforeunload', beforeUnloadListener);\r\n    }\r\n    // setup the listeners and prepare teardown callbacks\r\n    window.addEventListener('popstate', popStateHandler);\r\n    window.addEventListener('beforeunload', beforeUnloadListener);\r\n    return {\r\n        pauseListeners,\r\n        listen,\r\n        destroy,\r\n    };\r\n}\r\n/**\r\n * Creates a state object\r\n */\r\nfunction buildState(back, current, forward, replaced = false, computeScroll = false) {\r\n    return {\r\n        back,\r\n        current,\r\n        forward,\r\n        replaced,\r\n        position: window.history.length,\r\n        scroll: computeScroll ? computeScrollPosition() : null,\r\n    };\r\n}\r\nfunction useHistoryStateNavigation(base) {\r\n    const { history, location } = window;\r\n    // private variables\r\n    const currentLocation = {\r\n        value: createCurrentLocation(base, location),\r\n    };\r\n    const historyState = { value: history.state };\r\n    // build current history entry as this is a fresh navigation\r\n    if (!historyState.value) {\r\n        changeLocation(currentLocation.value, {\r\n            back: null,\r\n            current: currentLocation.value,\r\n            forward: null,\r\n            // the length is off by one, we need to decrease it\r\n            position: history.length - 1,\r\n            replaced: true,\r\n            // don't add a scroll as the user may have an anchor and we want\r\n            // scrollBehavior to be triggered without a saved position\r\n            scroll: null,\r\n        }, true);\r\n    }\r\n    function changeLocation(to, state, replace) {\r\n        /**\r\n         * if a base tag is provided and we are on a normal domain, we have to\r\n         * respect the provided `base` attribute because pushState() will use it and\r\n         * potentially erase anything before the `#` like at\r\n         * https://github.com/vuejs/router/issues/685 where a base of\r\n         * `/folder/#` but a base of `/` would erase the `/folder/` section. If\r\n         * there is no host, the `<base>` tag makes no sense and if there isn't a\r\n         * base tag we can just use everything after the `#`.\r\n         */\r\n        const hashIndex = base.indexOf('#');\r\n        const url = hashIndex > -1\r\n            ? (location.host && document.querySelector('base')\r\n                ? base\r\n                : base.slice(hashIndex)) + to\r\n            : createBaseLocation() + base + to;\r\n        try {\r\n            // BROWSER QUIRK\r\n            // NOTE: Safari throws a SecurityError when calling this function 100 times in 30 seconds\r\n            history[replace ? 'replaceState' : 'pushState'](state, '', url);\r\n            historyState.value = state;\r\n        }\r\n        catch (err) {\r\n            {\r\n                warn('Error with push/replace State', err);\r\n            }\r\n            // Force the navigation, this also resets the call count\r\n            location[replace ? 'replace' : 'assign'](url);\r\n        }\r\n    }\r\n    function replace(to, data) {\r\n        const state = assign({}, history.state, buildState(historyState.value.back, \r\n        // keep back and forward entries but override current position\r\n        to, historyState.value.forward, true), data, { position: historyState.value.position });\r\n        changeLocation(to, state, true);\r\n        currentLocation.value = to;\r\n    }\r\n    function push(to, data) {\r\n        // Add to current entry the information of where we are going\r\n        // as well as saving the current position\r\n        const currentState = assign({}, \r\n        // use current history state to gracefully handle a wrong call to\r\n        // history.replaceState\r\n        // https://github.com/vuejs/router/issues/366\r\n        historyState.value, history.state, {\r\n            forward: to,\r\n            scroll: computeScrollPosition(),\r\n        });\r\n        if (!history.state) {\r\n            warn(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:\\n\\n` +\r\n                `history.replaceState(history.state, '', url)\\n\\n` +\r\n                `You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`);\r\n        }\r\n        changeLocation(currentState.current, currentState, true);\r\n        const state = assign({}, buildState(currentLocation.value, to, null), { position: currentState.position + 1 }, data);\r\n        changeLocation(to, state, false);\r\n        currentLocation.value = to;\r\n    }\r\n    return {\r\n        location: currentLocation,\r\n        state: historyState,\r\n        push,\r\n        replace,\r\n    };\r\n}\r\n/**\r\n * Creates an HTML5 history. Most common history for single page applications.\r\n *\r\n * @param base -\r\n */\r\nfunction createWebHistory(base) {\r\n    base = normalizeBase(base);\r\n    const historyNavigation = useHistoryStateNavigation(base);\r\n    const historyListeners = useHistoryListeners(base, historyNavigation.state, historyNavigation.location, historyNavigation.replace);\r\n    function go(delta, triggerListeners = true) {\r\n        if (!triggerListeners)\r\n            historyListeners.pauseListeners();\r\n        history.go(delta);\r\n    }\r\n    const routerHistory = assign({\r\n        // it's overridden right after\r\n        location: '',\r\n        base,\r\n        go,\r\n        createHref: createHref.bind(null, base),\r\n    }, historyNavigation, historyListeners);\r\n    Object.defineProperty(routerHistory, 'location', {\r\n        enumerable: true,\r\n        get: () => historyNavigation.location.value,\r\n    });\r\n    Object.defineProperty(routerHistory, 'state', {\r\n        enumerable: true,\r\n        get: () => historyNavigation.state.value,\r\n    });\r\n    return routerHistory;\r\n}\n\n/**\r\n * Creates a in-memory based history. The main purpose of this history is to handle SSR. It starts in a special location that is nowhere.\r\n * It's up to the user to replace that location with the starter location by either calling `router.push` or `router.replace`.\r\n *\r\n * @param base - Base applied to all urls, defaults to '/'\r\n * @returns a history object that can be passed to the router constructor\r\n */\r\nfunction createMemoryHistory(base = '') {\r\n    let listeners = [];\r\n    let queue = [START];\r\n    let position = 0;\r\n    base = normalizeBase(base);\r\n    function setLocation(location) {\r\n        position++;\r\n        if (position === queue.length) {\r\n            // we are at the end, we can simply append a new entry\r\n            queue.push(location);\r\n        }\r\n        else {\r\n            // we are in the middle, we remove everything from here in the queue\r\n            queue.splice(position);\r\n            queue.push(location);\r\n        }\r\n    }\r\n    function triggerListeners(to, from, { direction, delta }) {\r\n        const info = {\r\n            direction,\r\n            delta,\r\n            type: NavigationType.pop,\r\n        };\r\n        for (const callback of listeners) {\r\n            callback(to, from, info);\r\n        }\r\n    }\r\n    const routerHistory = {\r\n        // rewritten by Object.defineProperty\r\n        location: START,\r\n        // TODO: should be kept in queue\r\n        state: {},\r\n        base,\r\n        createHref: createHref.bind(null, base),\r\n        replace(to) {\r\n            // remove current entry and decrement position\r\n            queue.splice(position--, 1);\r\n            setLocation(to);\r\n        },\r\n        push(to, data) {\r\n            setLocation(to);\r\n        },\r\n        listen(callback) {\r\n            listeners.push(callback);\r\n            return () => {\r\n                const index = listeners.indexOf(callback);\r\n                if (index > -1)\r\n                    listeners.splice(index, 1);\r\n            };\r\n        },\r\n        destroy() {\r\n            listeners = [];\r\n            queue = [START];\r\n            position = 0;\r\n        },\r\n        go(delta, shouldTrigger = true) {\r\n            const from = this.location;\r\n            const direction = \r\n            // we are considering delta === 0 going forward, but in abstract mode\r\n            // using 0 for the delta doesn't make sense like it does in html5 where\r\n            // it reloads the page\r\n            delta < 0 ? NavigationDirection.back : NavigationDirection.forward;\r\n            position = Math.max(0, Math.min(position + delta, queue.length - 1));\r\n            if (shouldTrigger) {\r\n                triggerListeners(this.location, from, {\r\n                    direction,\r\n                    delta,\r\n                });\r\n            }\r\n        },\r\n    };\r\n    Object.defineProperty(routerHistory, 'location', {\r\n        enumerable: true,\r\n        get: () => queue[position],\r\n    });\r\n    return routerHistory;\r\n}\n\n/**\r\n * Creates a hash history. Useful for web applications with no host (e.g.\r\n * `file://`) or when configuring a server to handle any URL is not possible.\r\n *\r\n * @param base - optional base to provide. Defaults to `location.pathname +\r\n * location.search` If there is a `<base>` tag in the `head`, its value will be\r\n * ignored in favor of this parameter **but note it affects all the\r\n * history.pushState() calls**, meaning that if you use a `<base>` tag, it's\r\n * `href` value **has to match this parameter** (ignoring anything after the\r\n * `#`).\r\n *\r\n * @example\r\n * ```js\r\n * // at https://example.com/folder\r\n * createWebHashHistory() // gives a url of `https://example.com/folder#`\r\n * createWebHashHistory('/folder/') // gives a url of `https://example.com/folder/#`\r\n * // if the `#` is provided in the base, it won't be added by `createWebHashHistory`\r\n * createWebHashHistory('/folder/#/app/') // gives a url of `https://example.com/folder/#/app/`\r\n * // you should avoid doing this because it changes the original url and breaks copying urls\r\n * createWebHashHistory('/other-folder/') // gives a url of `https://example.com/other-folder/#`\r\n *\r\n * // at file:///usr/etc/folder/index.html\r\n * // for locations with no `host`, the base is ignored\r\n * createWebHashHistory('/iAmIgnored') // gives a url of `file:///usr/etc/folder/index.html#`\r\n * ```\r\n */\r\nfunction createWebHashHistory(base) {\r\n    // Make sure this implementation is fine in terms of encoding, specially for IE11\r\n    // for `file://`, directly use the pathname and ignore the base\r\n    // location.pathname contains an initial `/` even at the root: `https://example.com`\r\n    base = location.host ? base || location.pathname + location.search : '';\r\n    // allow the user to provide a `#` in the middle: `/base/#/app`\r\n    if (!base.includes('#'))\r\n        base += '#';\r\n    if (!base.endsWith('#/') && !base.endsWith('#')) {\r\n        warn(`A hash base must end with a \"#\":\\n\"${base}\" should be \"${base.replace(/#.*$/, '#')}\".`);\r\n    }\r\n    return createWebHistory(base);\r\n}\n\nfunction isRouteLocation(route) {\r\n    return typeof route === 'string' || (route && typeof route === 'object');\r\n}\r\nfunction isRouteName(name) {\r\n    return typeof name === 'string' || typeof name === 'symbol';\r\n}\n\n/**\r\n * Initial route location where the router is. Can be used in navigation guards\r\n * to differentiate the initial navigation.\r\n *\r\n * @example\r\n * ```js\r\n * import { START_LOCATION } from 'vue-router'\r\n *\r\n * router.beforeEach((to, from) => {\r\n *   if (from === START_LOCATION) {\r\n *     // initial navigation\r\n *   }\r\n * })\r\n * ```\r\n */\r\nconst START_LOCATION_NORMALIZED = {\r\n    path: '/',\r\n    name: undefined,\r\n    params: {},\r\n    query: {},\r\n    hash: '',\r\n    fullPath: '/',\r\n    matched: [],\r\n    meta: {},\r\n    redirectedFrom: undefined,\r\n};\n\nconst NavigationFailureSymbol = /*#__PURE__*/ PolySymbol('navigation failure' );\r\n/**\r\n * Enumeration with all possible types for navigation failures. Can be passed to\r\n * {@link isNavigationFailure} to check for specific failures.\r\n */\r\nexports.NavigationFailureType = void 0;\r\n(function (NavigationFailureType) {\r\n    /**\r\n     * An aborted navigation is a navigation that failed because a navigation\r\n     * guard returned `false` or called `next(false)`\r\n     */\r\n    NavigationFailureType[NavigationFailureType[\"aborted\"] = 4] = \"aborted\";\r\n    /**\r\n     * A cancelled navigation is a navigation that failed because a more recent\r\n     * navigation finished started (not necessarily finished).\r\n     */\r\n    NavigationFailureType[NavigationFailureType[\"cancelled\"] = 8] = \"cancelled\";\r\n    /**\r\n     * A duplicated navigation is a navigation that failed because it was\r\n     * initiated while already being at the exact same location.\r\n     */\r\n    NavigationFailureType[NavigationFailureType[\"duplicated\"] = 16] = \"duplicated\";\r\n})(exports.NavigationFailureType || (exports.NavigationFailureType = {}));\r\n// DEV only debug messages\r\nconst ErrorTypeMessages = {\r\n    [1 /* MATCHER_NOT_FOUND */]({ location, currentLocation }) {\r\n        return `No match for\\n ${JSON.stringify(location)}${currentLocation\r\n            ? '\\nwhile being at\\n' + JSON.stringify(currentLocation)\r\n            : ''}`;\r\n    },\r\n    [2 /* NAVIGATION_GUARD_REDIRECT */]({ from, to, }) {\r\n        return `Redirected from \"${from.fullPath}\" to \"${stringifyRoute(to)}\" via a navigation guard.`;\r\n    },\r\n    [4 /* NAVIGATION_ABORTED */]({ from, to }) {\r\n        return `Navigation aborted from \"${from.fullPath}\" to \"${to.fullPath}\" via a navigation guard.`;\r\n    },\r\n    [8 /* NAVIGATION_CANCELLED */]({ from, to }) {\r\n        return `Navigation cancelled from \"${from.fullPath}\" to \"${to.fullPath}\" with a new navigation.`;\r\n    },\r\n    [16 /* NAVIGATION_DUPLICATED */]({ from, to }) {\r\n        return `Avoided redundant navigation to current location: \"${from.fullPath}\".`;\r\n    },\r\n};\r\nfunction createRouterError(type, params) {\r\n    // keep full error messages in cjs versions\r\n    {\r\n        return assign(new Error(ErrorTypeMessages[type](params)), {\r\n            type,\r\n            [NavigationFailureSymbol]: true,\r\n        }, params);\r\n    }\r\n}\r\nfunction isNavigationFailure(error, type) {\r\n    return (error instanceof Error &&\r\n        NavigationFailureSymbol in error &&\r\n        (type == null || !!(error.type & type)));\r\n}\r\nconst propertiesToLog = ['params', 'query', 'hash'];\r\nfunction stringifyRoute(to) {\r\n    if (typeof to === 'string')\r\n        return to;\r\n    if ('path' in to)\r\n        return to.path;\r\n    const location = {};\r\n    for (const key of propertiesToLog) {\r\n        if (key in to)\r\n            location[key] = to[key];\r\n    }\r\n    return JSON.stringify(location, null, 2);\r\n}\n\n// default pattern for a param: non greedy everything but /\r\nconst BASE_PARAM_PATTERN = '[^/]+?';\r\nconst BASE_PATH_PARSER_OPTIONS = {\r\n    sensitive: false,\r\n    strict: false,\r\n    start: true,\r\n    end: true,\r\n};\r\n// Special Regex characters that must be escaped in static tokens\r\nconst REGEX_CHARS_RE = /[.+*?^${}()[\\]/\\\\]/g;\r\n/**\r\n * Creates a path parser from an array of Segments (a segment is an array of Tokens)\r\n *\r\n * @param segments - array of segments returned by tokenizePath\r\n * @param extraOptions - optional options for the regexp\r\n * @returns a PathParser\r\n */\r\nfunction tokensToParser(segments, extraOptions) {\r\n    const options = assign({}, BASE_PATH_PARSER_OPTIONS, extraOptions);\r\n    // the amount of scores is the same as the length of segments except for the root segment \"/\"\r\n    const score = [];\r\n    // the regexp as a string\r\n    let pattern = options.start ? '^' : '';\r\n    // extracted keys\r\n    const keys = [];\r\n    for (const segment of segments) {\r\n        // the root segment needs special treatment\r\n        const segmentScores = segment.length ? [] : [90 /* Root */];\r\n        // allow trailing slash\r\n        if (options.strict && !segment.length)\r\n            pattern += '/';\r\n        for (let tokenIndex = 0; tokenIndex < segment.length; tokenIndex++) {\r\n            const token = segment[tokenIndex];\r\n            // resets the score if we are inside a sub segment /:a-other-:b\r\n            let subSegmentScore = 40 /* Segment */ +\r\n                (options.sensitive ? 0.25 /* BonusCaseSensitive */ : 0);\r\n            if (token.type === 0 /* Static */) {\r\n                // prepend the slash if we are starting a new segment\r\n                if (!tokenIndex)\r\n                    pattern += '/';\r\n                pattern += token.value.replace(REGEX_CHARS_RE, '\\\\$&');\r\n                subSegmentScore += 40 /* Static */;\r\n            }\r\n            else if (token.type === 1 /* Param */) {\r\n                const { value, repeatable, optional, regexp } = token;\r\n                keys.push({\r\n                    name: value,\r\n                    repeatable,\r\n                    optional,\r\n                });\r\n                const re = regexp ? regexp : BASE_PARAM_PATTERN;\r\n                // the user provided a custom regexp /:id(\\\\d+)\r\n                if (re !== BASE_PARAM_PATTERN) {\r\n                    subSegmentScore += 10 /* BonusCustomRegExp */;\r\n                    // make sure the regexp is valid before using it\r\n                    try {\r\n                        new RegExp(`(${re})`);\r\n                    }\r\n                    catch (err) {\r\n                        throw new Error(`Invalid custom RegExp for param \"${value}\" (${re}): ` +\r\n                            err.message);\r\n                    }\r\n                }\r\n                // when we repeat we must take care of the repeating leading slash\r\n                let subPattern = repeatable ? `((?:${re})(?:/(?:${re}))*)` : `(${re})`;\r\n                // prepend the slash if we are starting a new segment\r\n                if (!tokenIndex)\r\n                    subPattern =\r\n                        // avoid an optional / if there are more segments e.g. /:p?-static\r\n                        // or /:p?-:p2\r\n                        optional && segment.length < 2\r\n                            ? `(?:/${subPattern})`\r\n                            : '/' + subPattern;\r\n                if (optional)\r\n                    subPattern += '?';\r\n                pattern += subPattern;\r\n                subSegmentScore += 20 /* Dynamic */;\r\n                if (optional)\r\n                    subSegmentScore += -8 /* BonusOptional */;\r\n                if (repeatable)\r\n                    subSegmentScore += -20 /* BonusRepeatable */;\r\n                if (re === '.*')\r\n                    subSegmentScore += -50 /* BonusWildcard */;\r\n            }\r\n            segmentScores.push(subSegmentScore);\r\n        }\r\n        // an empty array like /home/ -> [[{home}], []]\r\n        // if (!segment.length) pattern += '/'\r\n        score.push(segmentScores);\r\n    }\r\n    // only apply the strict bonus to the last score\r\n    if (options.strict && options.end) {\r\n        const i = score.length - 1;\r\n        score[i][score[i].length - 1] += 0.7000000000000001 /* BonusStrict */;\r\n    }\r\n    // TODO: dev only warn double trailing slash\r\n    if (!options.strict)\r\n        pattern += '/?';\r\n    if (options.end)\r\n        pattern += '$';\r\n    // allow paths like /dynamic to only match dynamic or dynamic/... but not dynamic_something_else\r\n    else if (options.strict)\r\n        pattern += '(?:/|$)';\r\n    const re = new RegExp(pattern, options.sensitive ? '' : 'i');\r\n    function parse(path) {\r\n        const match = path.match(re);\r\n        const params = {};\r\n        if (!match)\r\n            return null;\r\n        for (let i = 1; i < match.length; i++) {\r\n            const value = match[i] || '';\r\n            const key = keys[i - 1];\r\n            params[key.name] = value && key.repeatable ? value.split('/') : value;\r\n        }\r\n        return params;\r\n    }\r\n    function stringify(params) {\r\n        let path = '';\r\n        // for optional parameters to allow to be empty\r\n        let avoidDuplicatedSlash = false;\r\n        for (const segment of segments) {\r\n            if (!avoidDuplicatedSlash || !path.endsWith('/'))\r\n                path += '/';\r\n            avoidDuplicatedSlash = false;\r\n            for (const token of segment) {\r\n                if (token.type === 0 /* Static */) {\r\n                    path += token.value;\r\n                }\r\n                else if (token.type === 1 /* Param */) {\r\n                    const { value, repeatable, optional } = token;\r\n                    const param = value in params ? params[value] : '';\r\n                    if (Array.isArray(param) && !repeatable)\r\n                        throw new Error(`Provided param \"${value}\" is an array but it is not repeatable (* or + modifiers)`);\r\n                    const text = Array.isArray(param) ? param.join('/') : param;\r\n                    if (!text) {\r\n                        if (optional) {\r\n                            // if we have more than one optional param like /:a?-static we\r\n                            // don't need to care about the optional param\r\n                            if (segment.length < 2) {\r\n                                // remove the last slash as we could be at the end\r\n                                if (path.endsWith('/'))\r\n                                    path = path.slice(0, -1);\r\n                                // do not append a slash on the next iteration\r\n                                else\r\n                                    avoidDuplicatedSlash = true;\r\n                            }\r\n                        }\r\n                        else\r\n                            throw new Error(`Missing required param \"${value}\"`);\r\n                    }\r\n                    path += text;\r\n                }\r\n            }\r\n        }\r\n        return path;\r\n    }\r\n    return {\r\n        re,\r\n        score,\r\n        keys,\r\n        parse,\r\n        stringify,\r\n    };\r\n}\r\n/**\r\n * Compares an array of numbers as used in PathParser.score and returns a\r\n * number. This function can be used to `sort` an array\r\n *\r\n * @param a - first array of numbers\r\n * @param b - second array of numbers\r\n * @returns 0 if both are equal, < 0 if a should be sorted first, > 0 if b\r\n * should be sorted first\r\n */\r\nfunction compareScoreArray(a, b) {\r\n    let i = 0;\r\n    while (i < a.length && i < b.length) {\r\n        const diff = b[i] - a[i];\r\n        // only keep going if diff === 0\r\n        if (diff)\r\n            return diff;\r\n        i++;\r\n    }\r\n    // if the last subsegment was Static, the shorter segments should be sorted first\r\n    // otherwise sort the longest segment first\r\n    if (a.length < b.length) {\r\n        return a.length === 1 && a[0] === 40 /* Static */ + 40 /* Segment */\r\n            ? -1\r\n            : 1;\r\n    }\r\n    else if (a.length > b.length) {\r\n        return b.length === 1 && b[0] === 40 /* Static */ + 40 /* Segment */\r\n            ? 1\r\n            : -1;\r\n    }\r\n    return 0;\r\n}\r\n/**\r\n * Compare function that can be used with `sort` to sort an array of PathParser\r\n *\r\n * @param a - first PathParser\r\n * @param b - second PathParser\r\n * @returns 0 if both are equal, < 0 if a should be sorted first, > 0 if b\r\n */\r\nfunction comparePathParserScore(a, b) {\r\n    let i = 0;\r\n    const aScore = a.score;\r\n    const bScore = b.score;\r\n    while (i < aScore.length && i < bScore.length) {\r\n        const comp = compareScoreArray(aScore[i], bScore[i]);\r\n        // do not return if both are equal\r\n        if (comp)\r\n            return comp;\r\n        i++;\r\n    }\r\n    // if a and b share the same score entries but b has more, sort b first\r\n    return bScore.length - aScore.length;\r\n    // this is the ternary version\r\n    // return aScore.length < bScore.length\r\n    //   ? 1\r\n    //   : aScore.length > bScore.length\r\n    //   ? -1\r\n    //   : 0\r\n}\n\nconst ROOT_TOKEN = {\r\n    type: 0 /* Static */,\r\n    value: '',\r\n};\r\nconst VALID_PARAM_RE = /[a-zA-Z0-9_]/;\r\n// After some profiling, the cache seems to be unnecessary because tokenizePath\r\n// (the slowest part of adding a route) is very fast\r\n// const tokenCache = new Map<string, Token[][]>()\r\nfunction tokenizePath(path) {\r\n    if (!path)\r\n        return [[]];\r\n    if (path === '/')\r\n        return [[ROOT_TOKEN]];\r\n    if (!path.startsWith('/')) {\r\n        throw new Error(`Route paths should start with a \"/\": \"${path}\" should be \"/${path}\".`\r\n            );\r\n    }\r\n    // if (tokenCache.has(path)) return tokenCache.get(path)!\r\n    function crash(message) {\r\n        throw new Error(`ERR (${state})/\"${buffer}\": ${message}`);\r\n    }\r\n    let state = 0 /* Static */;\r\n    let previousState = state;\r\n    const tokens = [];\r\n    // the segment will always be valid because we get into the initial state\r\n    // with the leading /\r\n    let segment;\r\n    function finalizeSegment() {\r\n        if (segment)\r\n            tokens.push(segment);\r\n        segment = [];\r\n    }\r\n    // index on the path\r\n    let i = 0;\r\n    // char at index\r\n    let char;\r\n    // buffer of the value read\r\n    let buffer = '';\r\n    // custom regexp for a param\r\n    let customRe = '';\r\n    function consumeBuffer() {\r\n        if (!buffer)\r\n            return;\r\n        if (state === 0 /* Static */) {\r\n            segment.push({\r\n                type: 0 /* Static */,\r\n                value: buffer,\r\n            });\r\n        }\r\n        else if (state === 1 /* Param */ ||\r\n            state === 2 /* ParamRegExp */ ||\r\n            state === 3 /* ParamRegExpEnd */) {\r\n            if (segment.length > 1 && (char === '*' || char === '+'))\r\n                crash(`A repeatable param (${buffer}) must be alone in its segment. eg: '/:ids+.`);\r\n            segment.push({\r\n                type: 1 /* Param */,\r\n                value: buffer,\r\n                regexp: customRe,\r\n                repeatable: char === '*' || char === '+',\r\n                optional: char === '*' || char === '?',\r\n            });\r\n        }\r\n        else {\r\n            crash('Invalid state to consume buffer');\r\n        }\r\n        buffer = '';\r\n    }\r\n    function addCharToBuffer() {\r\n        buffer += char;\r\n    }\r\n    while (i < path.length) {\r\n        char = path[i++];\r\n        if (char === '\\\\' && state !== 2 /* ParamRegExp */) {\r\n            previousState = state;\r\n            state = 4 /* EscapeNext */;\r\n            continue;\r\n        }\r\n        switch (state) {\r\n            case 0 /* Static */:\r\n                if (char === '/') {\r\n                    if (buffer) {\r\n                        consumeBuffer();\r\n                    }\r\n                    finalizeSegment();\r\n                }\r\n                else if (char === ':') {\r\n                    consumeBuffer();\r\n                    state = 1 /* Param */;\r\n                }\r\n                else {\r\n                    addCharToBuffer();\r\n                }\r\n                break;\r\n            case 4 /* EscapeNext */:\r\n                addCharToBuffer();\r\n                state = previousState;\r\n                break;\r\n            case 1 /* Param */:\r\n                if (char === '(') {\r\n                    state = 2 /* ParamRegExp */;\r\n                }\r\n                else if (VALID_PARAM_RE.test(char)) {\r\n                    addCharToBuffer();\r\n                }\r\n                else {\r\n                    consumeBuffer();\r\n                    state = 0 /* Static */;\r\n                    // go back one character if we were not modifying\r\n                    if (char !== '*' && char !== '?' && char !== '+')\r\n                        i--;\r\n                }\r\n                break;\r\n            case 2 /* ParamRegExp */:\r\n                // TODO: is it worth handling nested regexp? like :p(?:prefix_([^/]+)_suffix)\r\n                // it already works by escaping the closing )\r\n                // https://paths.esm.dev/?p=AAMeJbiAwQEcDKbAoAAkP60PG2R6QAvgNaA6AFACM2ABuQBB#\r\n                // is this really something people need since you can also write\r\n                // /prefix_:p()_suffix\r\n                if (char === ')') {\r\n                    // handle the escaped )\r\n                    if (customRe[customRe.length - 1] == '\\\\')\r\n                        customRe = customRe.slice(0, -1) + char;\r\n                    else\r\n                        state = 3 /* ParamRegExpEnd */;\r\n                }\r\n                else {\r\n                    customRe += char;\r\n                }\r\n                break;\r\n            case 3 /* ParamRegExpEnd */:\r\n                // same as finalizing a param\r\n                consumeBuffer();\r\n                state = 0 /* Static */;\r\n                // go back one character if we were not modifying\r\n                if (char !== '*' && char !== '?' && char !== '+')\r\n                    i--;\r\n                customRe = '';\r\n                break;\r\n            default:\r\n                crash('Unknown state');\r\n                break;\r\n        }\r\n    }\r\n    if (state === 2 /* ParamRegExp */)\r\n        crash(`Unfinished custom RegExp for param \"${buffer}\"`);\r\n    consumeBuffer();\r\n    finalizeSegment();\r\n    // tokenCache.set(path, tokens)\r\n    return tokens;\r\n}\n\nfunction createRouteRecordMatcher(record, parent, options) {\r\n    const parser = tokensToParser(tokenizePath(record.path), options);\r\n    // warn against params with the same name\r\n    {\r\n        const existingKeys = new Set();\r\n        for (const key of parser.keys) {\r\n            if (existingKeys.has(key.name))\r\n                warn(`Found duplicated params with name \"${key.name}\" for path \"${record.path}\". Only the last one will be available on \"$route.params\".`);\r\n            existingKeys.add(key.name);\r\n        }\r\n    }\r\n    const matcher = assign(parser, {\r\n        record,\r\n        parent,\r\n        // these needs to be populated by the parent\r\n        children: [],\r\n        alias: [],\r\n    });\r\n    if (parent) {\r\n        // both are aliases or both are not aliases\r\n        // we don't want to mix them because the order is used when\r\n        // passing originalRecord in Matcher.addRoute\r\n        if (!matcher.record.aliasOf === !parent.record.aliasOf)\r\n            parent.children.push(matcher);\r\n    }\r\n    return matcher;\r\n}\n\n/**\r\n * Creates a Router Matcher.\r\n *\r\n * @internal\r\n * @param routes - array of initial routes\r\n * @param globalOptions - global route options\r\n */\r\nfunction createRouterMatcher(routes, globalOptions) {\r\n    // normalized ordered array of matchers\r\n    const matchers = [];\r\n    const matcherMap = new Map();\r\n    globalOptions = mergeOptions({ strict: false, end: true, sensitive: false }, globalOptions);\r\n    function getRecordMatcher(name) {\r\n        return matcherMap.get(name);\r\n    }\r\n    function addRoute(record, parent, originalRecord) {\r\n        // used later on to remove by name\r\n        const isRootAdd = !originalRecord;\r\n        const mainNormalizedRecord = normalizeRouteRecord(record);\r\n        // we might be the child of an alias\r\n        mainNormalizedRecord.aliasOf = originalRecord && originalRecord.record;\r\n        const options = mergeOptions(globalOptions, record);\r\n        // generate an array of records to correctly handle aliases\r\n        const normalizedRecords = [\r\n            mainNormalizedRecord,\r\n        ];\r\n        if ('alias' in record) {\r\n            const aliases = typeof record.alias === 'string' ? [record.alias] : record.alias;\r\n            for (const alias of aliases) {\r\n                normalizedRecords.push(assign({}, mainNormalizedRecord, {\r\n                    // this allows us to hold a copy of the `components` option\r\n                    // so that async components cache is hold on the original record\r\n                    components: originalRecord\r\n                        ? originalRecord.record.components\r\n                        : mainNormalizedRecord.components,\r\n                    path: alias,\r\n                    // we might be the child of an alias\r\n                    aliasOf: originalRecord\r\n                        ? originalRecord.record\r\n                        : mainNormalizedRecord,\r\n                    // the aliases are always of the same kind as the original since they\r\n                    // are defined on the same record\r\n                }));\r\n            }\r\n        }\r\n        let matcher;\r\n        let originalMatcher;\r\n        for (const normalizedRecord of normalizedRecords) {\r\n            const { path } = normalizedRecord;\r\n            // Build up the path for nested routes if the child isn't an absolute\r\n            // route. Only add the / delimiter if the child path isn't empty and if the\r\n            // parent path doesn't have a trailing slash\r\n            if (parent && path[0] !== '/') {\r\n                const parentPath = parent.record.path;\r\n                const connectingSlash = parentPath[parentPath.length - 1] === '/' ? '' : '/';\r\n                normalizedRecord.path =\r\n                    parent.record.path + (path && connectingSlash + path);\r\n            }\r\n            if (normalizedRecord.path === '*') {\r\n                throw new Error('Catch all routes (\"*\") must now be defined using a param with a custom regexp.\\n' +\r\n                    'See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.');\r\n            }\r\n            // create the object before hand so it can be passed to children\r\n            matcher = createRouteRecordMatcher(normalizedRecord, parent, options);\r\n            if (parent && path[0] === '/')\r\n                checkMissingParamsInAbsolutePath(matcher, parent);\r\n            // if we are an alias we must tell the original record that we exist\r\n            // so we can be removed\r\n            if (originalRecord) {\r\n                originalRecord.alias.push(matcher);\r\n                {\r\n                    checkSameParams(originalRecord, matcher);\r\n                }\r\n            }\r\n            else {\r\n                // otherwise, the first record is the original and others are aliases\r\n                originalMatcher = originalMatcher || matcher;\r\n                if (originalMatcher !== matcher)\r\n                    originalMatcher.alias.push(matcher);\r\n                // remove the route if named and only for the top record (avoid in nested calls)\r\n                // this works because the original record is the first one\r\n                if (isRootAdd && record.name && !isAliasRecord(matcher))\r\n                    removeRoute(record.name);\r\n            }\r\n            if ('children' in mainNormalizedRecord) {\r\n                const children = mainNormalizedRecord.children;\r\n                for (let i = 0; i < children.length; i++) {\r\n                    addRoute(children[i], matcher, originalRecord && originalRecord.children[i]);\r\n                }\r\n            }\r\n            // if there was no original record, then the first one was not an alias and all\r\n            // other alias (if any) need to reference this record when adding children\r\n            originalRecord = originalRecord || matcher;\r\n            // TODO: add normalized records for more flexibility\r\n            // if (parent && isAliasRecord(originalRecord)) {\r\n            //   parent.children.push(originalRecord)\r\n            // }\r\n            insertMatcher(matcher);\r\n        }\r\n        return originalMatcher\r\n            ? () => {\r\n                // since other matchers are aliases, they should be removed by the original matcher\r\n                removeRoute(originalMatcher);\r\n            }\r\n            : noop;\r\n    }\r\n    function removeRoute(matcherRef) {\r\n        if (isRouteName(matcherRef)) {\r\n            const matcher = matcherMap.get(matcherRef);\r\n            if (matcher) {\r\n                matcherMap.delete(matcherRef);\r\n                matchers.splice(matchers.indexOf(matcher), 1);\r\n                matcher.children.forEach(removeRoute);\r\n                matcher.alias.forEach(removeRoute);\r\n            }\r\n        }\r\n        else {\r\n            const index = matchers.indexOf(matcherRef);\r\n            if (index > -1) {\r\n                matchers.splice(index, 1);\r\n                if (matcherRef.record.name)\r\n                    matcherMap.delete(matcherRef.record.name);\r\n                matcherRef.children.forEach(removeRoute);\r\n                matcherRef.alias.forEach(removeRoute);\r\n            }\r\n        }\r\n    }\r\n    function getRoutes() {\r\n        return matchers;\r\n    }\r\n    function insertMatcher(matcher) {\r\n        let i = 0;\r\n        while (i < matchers.length &&\r\n            comparePathParserScore(matcher, matchers[i]) >= 0 &&\r\n            // Adding children with empty path should still appear before the parent\r\n            // https://github.com/vuejs/router/issues/1124\r\n            (matcher.record.path !== matchers[i].record.path ||\r\n                !isRecordChildOf(matcher, matchers[i])))\r\n            i++;\r\n        matchers.splice(i, 0, matcher);\r\n        // only add the original record to the name map\r\n        if (matcher.record.name && !isAliasRecord(matcher))\r\n            matcherMap.set(matcher.record.name, matcher);\r\n    }\r\n    function resolve(location, currentLocation) {\r\n        let matcher;\r\n        let params = {};\r\n        let path;\r\n        let name;\r\n        if ('name' in location && location.name) {\r\n            matcher = matcherMap.get(location.name);\r\n            if (!matcher)\r\n                throw createRouterError(1 /* MATCHER_NOT_FOUND */, {\r\n                    location,\r\n                });\r\n            name = matcher.record.name;\r\n            params = assign(\r\n            // paramsFromLocation is a new object\r\n            paramsFromLocation(currentLocation.params, \r\n            // only keep params that exist in the resolved location\r\n            // TODO: only keep optional params coming from a parent record\r\n            matcher.keys.filter(k => !k.optional).map(k => k.name)), location.params);\r\n            // throws if cannot be stringified\r\n            path = matcher.stringify(params);\r\n        }\r\n        else if ('path' in location) {\r\n            // no need to resolve the path with the matcher as it was provided\r\n            // this also allows the user to control the encoding\r\n            path = location.path;\r\n            if (!path.startsWith('/')) {\r\n                warn(`The Matcher cannot resolve relative paths but received \"${path}\". Unless you directly called \\`matcher.resolve(\"${path}\")\\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`);\r\n            }\r\n            matcher = matchers.find(m => m.re.test(path));\r\n            // matcher should have a value after the loop\r\n            if (matcher) {\r\n                // TODO: dev warning of unused params if provided\r\n                // we know the matcher works because we tested the regexp\r\n                params = matcher.parse(path);\r\n                name = matcher.record.name;\r\n            }\r\n            // location is a relative path\r\n        }\r\n        else {\r\n            // match by name or path of current route\r\n            matcher = currentLocation.name\r\n                ? matcherMap.get(currentLocation.name)\r\n                : matchers.find(m => m.re.test(currentLocation.path));\r\n            if (!matcher)\r\n                throw createRouterError(1 /* MATCHER_NOT_FOUND */, {\r\n                    location,\r\n                    currentLocation,\r\n                });\r\n            name = matcher.record.name;\r\n            // since we are navigating to the same location, we don't need to pick the\r\n            // params like when `name` is provided\r\n            params = assign({}, currentLocation.params, location.params);\r\n            path = matcher.stringify(params);\r\n        }\r\n        const matched = [];\r\n        let parentMatcher = matcher;\r\n        while (parentMatcher) {\r\n            // reversed order so parents are at the beginning\r\n            matched.unshift(parentMatcher.record);\r\n            parentMatcher = parentMatcher.parent;\r\n        }\r\n        return {\r\n            name,\r\n            path,\r\n            params,\r\n            matched,\r\n            meta: mergeMetaFields(matched),\r\n        };\r\n    }\r\n    // add initial routes\r\n    routes.forEach(route => addRoute(route));\r\n    return { addRoute, resolve, removeRoute, getRoutes, getRecordMatcher };\r\n}\r\nfunction paramsFromLocation(params, keys) {\r\n    const newParams = {};\r\n    for (const key of keys) {\r\n        if (key in params)\r\n            newParams[key] = params[key];\r\n    }\r\n    return newParams;\r\n}\r\n/**\r\n * Normalizes a RouteRecordRaw. Creates a copy\r\n *\r\n * @param record\r\n * @returns the normalized version\r\n */\r\nfunction normalizeRouteRecord(record) {\r\n    return {\r\n        path: record.path,\r\n        redirect: record.redirect,\r\n        name: record.name,\r\n        meta: record.meta || {},\r\n        aliasOf: undefined,\r\n        beforeEnter: record.beforeEnter,\r\n        props: normalizeRecordProps(record),\r\n        children: record.children || [],\r\n        instances: {},\r\n        leaveGuards: new Set(),\r\n        updateGuards: new Set(),\r\n        enterCallbacks: {},\r\n        components: 'components' in record\r\n            ? record.components || {}\r\n            : { default: record.component },\r\n    };\r\n}\r\n/**\r\n * Normalize the optional `props` in a record to always be an object similar to\r\n * components. Also accept a boolean for components.\r\n * @param record\r\n */\r\nfunction normalizeRecordProps(record) {\r\n    const propsObject = {};\r\n    // props does not exist on redirect records but we can set false directly\r\n    const props = record.props || false;\r\n    if ('component' in record) {\r\n        propsObject.default = props;\r\n    }\r\n    else {\r\n        // NOTE: we could also allow a function to be applied to every component.\r\n        // Would need user feedback for use cases\r\n        for (const name in record.components)\r\n            propsObject[name] = typeof props === 'boolean' ? props : props[name];\r\n    }\r\n    return propsObject;\r\n}\r\n/**\r\n * Checks if a record or any of its parent is an alias\r\n * @param record\r\n */\r\nfunction isAliasRecord(record) {\r\n    while (record) {\r\n        if (record.record.aliasOf)\r\n            return true;\r\n        record = record.parent;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Merge meta fields of an array of records\r\n *\r\n * @param matched - array of matched records\r\n */\r\nfunction mergeMetaFields(matched) {\r\n    return matched.reduce((meta, record) => assign(meta, record.meta), {});\r\n}\r\nfunction mergeOptions(defaults, partialOptions) {\r\n    const options = {};\r\n    for (const key in defaults) {\r\n        options[key] = key in partialOptions ? partialOptions[key] : defaults[key];\r\n    }\r\n    return options;\r\n}\r\nfunction isSameParam(a, b) {\r\n    return (a.name === b.name &&\r\n        a.optional === b.optional &&\r\n        a.repeatable === b.repeatable);\r\n}\r\n/**\r\n * Check if a path and its alias have the same required params\r\n *\r\n * @param a - original record\r\n * @param b - alias record\r\n */\r\nfunction checkSameParams(a, b) {\r\n    for (const key of a.keys) {\r\n        if (!key.optional && !b.keys.find(isSameParam.bind(null, key)))\r\n            return warn(`Alias \"${b.record.path}\" and the original record: \"${a.record.path}\" should have the exact same param named \"${key.name}\"`);\r\n    }\r\n    for (const key of b.keys) {\r\n        if (!key.optional && !a.keys.find(isSameParam.bind(null, key)))\r\n            return warn(`Alias \"${b.record.path}\" and the original record: \"${a.record.path}\" should have the exact same param named \"${key.name}\"`);\r\n    }\r\n}\r\nfunction checkMissingParamsInAbsolutePath(record, parent) {\r\n    for (const key of parent.keys) {\r\n        if (!record.keys.find(isSameParam.bind(null, key)))\r\n            return warn(`Absolute path \"${record.record.path}\" should have the exact same param named \"${key.name}\" as its parent \"${parent.record.path}\".`);\r\n    }\r\n}\r\nfunction isRecordChildOf(record, parent) {\r\n    return parent.children.some(child => child === record || isRecordChildOf(record, child));\r\n}\n\n/**\r\n * Encoding Rules ␣ = Space Path: ␣ \" < > # ? { } Query: ␣ \" < > # & = Hash: ␣ \"\r\n * < > `\r\n *\r\n * On top of that, the RFC3986 (https://tools.ietf.org/html/rfc3986#section-2.2)\r\n * defines some extra characters to be encoded. Most browsers do not encode them\r\n * in encodeURI https://github.com/whatwg/url/issues/369, so it may be safer to\r\n * also encode `!'()*`. Leaving unencoded only ASCII alphanumeric(`a-zA-Z0-9`)\r\n * plus `-._~`. This extra safety should be applied to query by patching the\r\n * string returned by encodeURIComponent encodeURI also encodes `[\\]^`. `\\`\r\n * should be encoded to avoid ambiguity. Browsers (IE, FF, C) transform a `\\`\r\n * into a `/` if directly typed in. The _backtick_ (`````) should also be\r\n * encoded everywhere because some browsers like FF encode it when directly\r\n * written while others don't. Safari and IE don't encode ``\"<>{}``` in hash.\r\n */\r\n// const EXTRA_RESERVED_RE = /[!'()*]/g\r\n// const encodeReservedReplacer = (c: string) => '%' + c.charCodeAt(0).toString(16)\r\nconst HASH_RE = /#/g; // %23\r\nconst AMPERSAND_RE = /&/g; // %26\r\nconst SLASH_RE = /\\//g; // %2F\r\nconst EQUAL_RE = /=/g; // %3D\r\nconst IM_RE = /\\?/g; // %3F\r\nconst PLUS_RE = /\\+/g; // %2B\r\n/**\r\n * NOTE: It's not clear to me if we should encode the + symbol in queries, it\r\n * seems to be less flexible than not doing so and I can't find out the legacy\r\n * systems requiring this for regular requests like text/html. In the standard,\r\n * the encoding of the plus character is only mentioned for\r\n * application/x-www-form-urlencoded\r\n * (https://url.spec.whatwg.org/#urlencoded-parsing) and most browsers seems lo\r\n * leave the plus character as is in queries. To be more flexible, we allow the\r\n * plus character on the query but it can also be manually encoded by the user.\r\n *\r\n * Resources:\r\n * - https://url.spec.whatwg.org/#urlencoded-parsing\r\n * - https://stackoverflow.com/questions/1634271/url-encoding-the-space-character-or-20\r\n */\r\nconst ENC_BRACKET_OPEN_RE = /%5B/g; // [\r\nconst ENC_BRACKET_CLOSE_RE = /%5D/g; // ]\r\nconst ENC_CARET_RE = /%5E/g; // ^\r\nconst ENC_BACKTICK_RE = /%60/g; // `\r\nconst ENC_CURLY_OPEN_RE = /%7B/g; // {\r\nconst ENC_PIPE_RE = /%7C/g; // |\r\nconst ENC_CURLY_CLOSE_RE = /%7D/g; // }\r\nconst ENC_SPACE_RE = /%20/g; // }\r\n/**\r\n * Encode characters that need to be encoded on the path, search and hash\r\n * sections of the URL.\r\n *\r\n * @internal\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction commonEncode(text) {\r\n    return encodeURI('' + text)\r\n        .replace(ENC_PIPE_RE, '|')\r\n        .replace(ENC_BRACKET_OPEN_RE, '[')\r\n        .replace(ENC_BRACKET_CLOSE_RE, ']');\r\n}\r\n/**\r\n * Encode characters that need to be encoded on the hash section of the URL.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodeHash(text) {\r\n    return commonEncode(text)\r\n        .replace(ENC_CURLY_OPEN_RE, '{')\r\n        .replace(ENC_CURLY_CLOSE_RE, '}')\r\n        .replace(ENC_CARET_RE, '^');\r\n}\r\n/**\r\n * Encode characters that need to be encoded query values on the query\r\n * section of the URL.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodeQueryValue(text) {\r\n    return (commonEncode(text)\r\n        // Encode the space as +, encode the + to differentiate it from the space\r\n        .replace(PLUS_RE, '%2B')\r\n        .replace(ENC_SPACE_RE, '+')\r\n        .replace(HASH_RE, '%23')\r\n        .replace(AMPERSAND_RE, '%26')\r\n        .replace(ENC_BACKTICK_RE, '`')\r\n        .replace(ENC_CURLY_OPEN_RE, '{')\r\n        .replace(ENC_CURLY_CLOSE_RE, '}')\r\n        .replace(ENC_CARET_RE, '^'));\r\n}\r\n/**\r\n * Like `encodeQueryValue` but also encodes the `=` character.\r\n *\r\n * @param text - string to encode\r\n */\r\nfunction encodeQueryKey(text) {\r\n    return encodeQueryValue(text).replace(EQUAL_RE, '%3D');\r\n}\r\n/**\r\n * Encode characters that need to be encoded on the path section of the URL.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodePath(text) {\r\n    return commonEncode(text).replace(HASH_RE, '%23').replace(IM_RE, '%3F');\r\n}\r\n/**\r\n * Encode characters that need to be encoded on the path section of the URL as a\r\n * param. This function encodes everything {@link encodePath} does plus the\r\n * slash (`/`) character. If `text` is `null` or `undefined`, returns an empty\r\n * string instead.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodeParam(text) {\r\n    return text == null ? '' : encodePath(text).replace(SLASH_RE, '%2F');\r\n}\r\n/**\r\n * Decode text using `decodeURIComponent`. Returns the original text if it\r\n * fails.\r\n *\r\n * @param text - string to decode\r\n * @returns decoded string\r\n */\r\nfunction decode(text) {\r\n    try {\r\n        return decodeURIComponent('' + text);\r\n    }\r\n    catch (err) {\r\n        warn(`Error decoding \"${text}\". Using original value`);\r\n    }\r\n    return '' + text;\r\n}\n\n/**\r\n * Transforms a queryString into a {@link LocationQuery} object. Accept both, a\r\n * version with the leading `?` and without Should work as URLSearchParams\r\n\n * @internal\r\n *\r\n * @param search - search string to parse\r\n * @returns a query object\r\n */\r\nfunction parseQuery(search) {\r\n    const query = {};\r\n    // avoid creating an object with an empty key and empty value\r\n    // because of split('&')\r\n    if (search === '' || search === '?')\r\n        return query;\r\n    const hasLeadingIM = search[0] === '?';\r\n    const searchParams = (hasLeadingIM ? search.slice(1) : search).split('&');\r\n    for (let i = 0; i < searchParams.length; ++i) {\r\n        // pre decode the + into space\r\n        const searchParam = searchParams[i].replace(PLUS_RE, ' ');\r\n        // allow the = character\r\n        const eqPos = searchParam.indexOf('=');\r\n        const key = decode(eqPos < 0 ? searchParam : searchParam.slice(0, eqPos));\r\n        const value = eqPos < 0 ? null : decode(searchParam.slice(eqPos + 1));\r\n        if (key in query) {\r\n            // an extra variable for ts types\r\n            let currentValue = query[key];\r\n            if (!Array.isArray(currentValue)) {\r\n                currentValue = query[key] = [currentValue];\r\n            }\r\n            currentValue.push(value);\r\n        }\r\n        else {\r\n            query[key] = value;\r\n        }\r\n    }\r\n    return query;\r\n}\r\n/**\r\n * Stringifies a {@link LocationQueryRaw} object. Like `URLSearchParams`, it\r\n * doesn't prepend a `?`\r\n *\r\n * @internal\r\n *\r\n * @param query - query object to stringify\r\n * @returns string version of the query without the leading `?`\r\n */\r\nfunction stringifyQuery(query) {\r\n    let search = '';\r\n    for (let key in query) {\r\n        const value = query[key];\r\n        key = encodeQueryKey(key);\r\n        if (value == null) {\r\n            // only null adds the value\r\n            if (value !== undefined) {\r\n                search += (search.length ? '&' : '') + key;\r\n            }\r\n            continue;\r\n        }\r\n        // keep null values\r\n        const values = Array.isArray(value)\r\n            ? value.map(v => v && encodeQueryValue(v))\r\n            : [value && encodeQueryValue(value)];\r\n        values.forEach(value => {\r\n            // skip undefined values in arrays as if they were not present\r\n            // smaller code than using filter\r\n            if (value !== undefined) {\r\n                // only append & with non-empty search\r\n                search += (search.length ? '&' : '') + key;\r\n                if (value != null)\r\n                    search += '=' + value;\r\n            }\r\n        });\r\n    }\r\n    return search;\r\n}\r\n/**\r\n * Transforms a {@link LocationQueryRaw} into a {@link LocationQuery} by casting\r\n * numbers into strings, removing keys with an undefined value and replacing\r\n * undefined with null in arrays\r\n *\r\n * @param query - query object to normalize\r\n * @returns a normalized query object\r\n */\r\nfunction normalizeQuery(query) {\r\n    const normalizedQuery = {};\r\n    for (const key in query) {\r\n        const value = query[key];\r\n        if (value !== undefined) {\r\n            normalizedQuery[key] = Array.isArray(value)\r\n                ? value.map(v => (v == null ? null : '' + v))\r\n                : value == null\r\n                    ? value\r\n                    : '' + value;\r\n        }\r\n    }\r\n    return normalizedQuery;\r\n}\n\n/**\r\n * Create a list of callbacks that can be reset. Used to create before and after navigation guards list\r\n */\r\nfunction useCallbacks() {\r\n    let handlers = [];\r\n    function add(handler) {\r\n        handlers.push(handler);\r\n        return () => {\r\n            const i = handlers.indexOf(handler);\r\n            if (i > -1)\r\n                handlers.splice(i, 1);\r\n        };\r\n    }\r\n    function reset() {\r\n        handlers = [];\r\n    }\r\n    return {\r\n        add,\r\n        list: () => handlers,\r\n        reset,\r\n    };\r\n}\n\nfunction registerGuard(record, name, guard) {\r\n    const removeFromList = () => {\r\n        record[name].delete(guard);\r\n    };\r\n    vue.onUnmounted(removeFromList);\r\n    vue.onDeactivated(removeFromList);\r\n    vue.onActivated(() => {\r\n        record[name].add(guard);\r\n    });\r\n    record[name].add(guard);\r\n}\r\n/**\r\n * Add a navigation guard that triggers whenever the component for the current\r\n * location is about to be left. Similar to {@link beforeRouteLeave} but can be\r\n * used in any component. The guard is removed when the component is unmounted.\r\n *\r\n * @param leaveGuard - {@link NavigationGuard}\r\n */\r\nfunction onBeforeRouteLeave(leaveGuard) {\r\n    if (!vue.getCurrentInstance()) {\r\n        warn('getCurrentInstance() returned null. onBeforeRouteLeave() must be called at the top of a setup function');\r\n        return;\r\n    }\r\n    const activeRecord = vue.inject(matchedRouteKey, \r\n    // to avoid warning\r\n    {}).value;\r\n    if (!activeRecord) {\r\n        warn('No active route record was found when calling `onBeforeRouteLeave()`. Make sure you call this function inside of a component child of <router-view>. Maybe you called it inside of App.vue?');\r\n        return;\r\n    }\r\n    registerGuard(activeRecord, 'leaveGuards', leaveGuard);\r\n}\r\n/**\r\n * Add a navigation guard that triggers whenever the current location is about\r\n * to be updated. Similar to {@link beforeRouteUpdate} but can be used in any\r\n * component. The guard is removed when the component is unmounted.\r\n *\r\n * @param updateGuard - {@link NavigationGuard}\r\n */\r\nfunction onBeforeRouteUpdate(updateGuard) {\r\n    if (!vue.getCurrentInstance()) {\r\n        warn('getCurrentInstance() returned null. onBeforeRouteUpdate() must be called at the top of a setup function');\r\n        return;\r\n    }\r\n    const activeRecord = vue.inject(matchedRouteKey, \r\n    // to avoid warning\r\n    {}).value;\r\n    if (!activeRecord) {\r\n        warn('No active route record was found when calling `onBeforeRouteUpdate()`. Make sure you call this function inside of a component child of <router-view>. Maybe you called it inside of App.vue?');\r\n        return;\r\n    }\r\n    registerGuard(activeRecord, 'updateGuards', updateGuard);\r\n}\r\nfunction guardToPromiseFn(guard, to, from, record, name) {\r\n    // keep a reference to the enterCallbackArray to prevent pushing callbacks if a new navigation took place\r\n    const enterCallbackArray = record &&\r\n        // name is defined if record is because of the function overload\r\n        (record.enterCallbacks[name] = record.enterCallbacks[name] || []);\r\n    return () => new Promise((resolve, reject) => {\r\n        const next = (valid) => {\r\n            if (valid === false)\r\n                reject(createRouterError(4 /* NAVIGATION_ABORTED */, {\r\n                    from,\r\n                    to,\r\n                }));\r\n            else if (valid instanceof Error) {\r\n                reject(valid);\r\n            }\r\n            else if (isRouteLocation(valid)) {\r\n                reject(createRouterError(2 /* NAVIGATION_GUARD_REDIRECT */, {\r\n                    from: to,\r\n                    to: valid,\r\n                }));\r\n            }\r\n            else {\r\n                if (enterCallbackArray &&\r\n                    // since enterCallbackArray is truthy, both record and name also are\r\n                    record.enterCallbacks[name] === enterCallbackArray &&\r\n                    typeof valid === 'function')\r\n                    enterCallbackArray.push(valid);\r\n                resolve();\r\n            }\r\n        };\r\n        // wrapping with Promise.resolve allows it to work with both async and sync guards\r\n        const guardReturn = guard.call(record && record.instances[name], to, from, canOnlyBeCalledOnce(next, to, from) );\r\n        let guardCall = Promise.resolve(guardReturn);\r\n        if (guard.length < 3)\r\n            guardCall = guardCall.then(next);\r\n        if (guard.length > 2) {\r\n            const message = `The \"next\" callback was never called inside of ${guard.name ? '\"' + guard.name + '\"' : ''}:\\n${guard.toString()}\\n. If you are returning a value instead of calling \"next\", make sure to remove the \"next\" parameter from your function.`;\r\n            if (typeof guardReturn === 'object' && 'then' in guardReturn) {\r\n                guardCall = guardCall.then(resolvedValue => {\r\n                    // @ts-expect-error: _called is added at canOnlyBeCalledOnce\r\n                    if (!next._called) {\r\n                        warn(message);\r\n                        return Promise.reject(new Error('Invalid navigation guard'));\r\n                    }\r\n                    return resolvedValue;\r\n                });\r\n                // TODO: test me!\r\n            }\r\n            else if (guardReturn !== undefined) {\r\n                // @ts-expect-error: _called is added at canOnlyBeCalledOnce\r\n                if (!next._called) {\r\n                    warn(message);\r\n                    reject(new Error('Invalid navigation guard'));\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        guardCall.catch(err => reject(err));\r\n    });\r\n}\r\nfunction canOnlyBeCalledOnce(next, to, from) {\r\n    let called = 0;\r\n    return function () {\r\n        if (called++ === 1)\r\n            warn(`The \"next\" callback was called more than once in one navigation guard when going from \"${from.fullPath}\" to \"${to.fullPath}\". It should be called exactly one time in each navigation guard. This will fail in production.`);\r\n        // @ts-expect-error: we put it in the original one because it's easier to check\r\n        next._called = true;\r\n        if (called === 1)\r\n            next.apply(null, arguments);\r\n    };\r\n}\r\nfunction extractComponentsGuards(matched, guardType, to, from) {\r\n    const guards = [];\r\n    for (const record of matched) {\r\n        for (const name in record.components) {\r\n            let rawComponent = record.components[name];\r\n            {\r\n                if (!rawComponent ||\r\n                    (typeof rawComponent !== 'object' &&\r\n                        typeof rawComponent !== 'function')) {\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is not` +\r\n                        ` a valid component. Received \"${String(rawComponent)}\".`);\r\n                    // throw to ensure we stop here but warn to ensure the message isn't\r\n                    // missed by the user\r\n                    throw new Error('Invalid route component');\r\n                }\r\n                else if ('then' in rawComponent) {\r\n                    // warn if user wrote import('/component.vue') instead of () =>\r\n                    // import('./component.vue')\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is a ` +\r\n                        `Promise instead of a function that returns a Promise. Did you ` +\r\n                        `write \"import('./MyPage.vue')\" instead of ` +\r\n                        `\"() => import('./MyPage.vue')\" ? This will break in ` +\r\n                        `production if not fixed.`);\r\n                    const promise = rawComponent;\r\n                    rawComponent = () => promise;\r\n                }\r\n                else if (rawComponent.__asyncLoader &&\r\n                    // warn only once per component\r\n                    !rawComponent.__warnedDefineAsync) {\r\n                    rawComponent.__warnedDefineAsync = true;\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is defined ` +\r\n                        `using \"defineAsyncComponent()\". ` +\r\n                        `Write \"() => import('./MyPage.vue')\" instead of ` +\r\n                        `\"defineAsyncComponent(() => import('./MyPage.vue'))\".`);\r\n                }\r\n            }\r\n            // skip update and leave guards if the route component is not mounted\r\n            if (guardType !== 'beforeRouteEnter' && !record.instances[name])\r\n                continue;\r\n            if (isRouteComponent(rawComponent)) {\r\n                // __vccOpts is added by vue-class-component and contain the regular options\r\n                const options = rawComponent.__vccOpts || rawComponent;\r\n                const guard = options[guardType];\r\n                guard && guards.push(guardToPromiseFn(guard, to, from, record, name));\r\n            }\r\n            else {\r\n                // start requesting the chunk already\r\n                let componentPromise = rawComponent();\r\n                if (!('catch' in componentPromise)) {\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is a function that does not return a Promise. If you were passing a functional component, make sure to add a \"displayName\" to the component. This will break in production if not fixed.`);\r\n                    componentPromise = Promise.resolve(componentPromise);\r\n                }\r\n                guards.push(() => componentPromise.then(resolved => {\r\n                    if (!resolved)\r\n                        return Promise.reject(new Error(`Couldn't resolve component \"${name}\" at \"${record.path}\"`));\r\n                    const resolvedComponent = isESModule(resolved)\r\n                        ? resolved.default\r\n                        : resolved;\r\n                    // replace the function with the resolved component\r\n                    record.components[name] = resolvedComponent;\r\n                    // __vccOpts is added by vue-class-component and contain the regular options\r\n                    const options = resolvedComponent.__vccOpts || resolvedComponent;\r\n                    const guard = options[guardType];\r\n                    return guard && guardToPromiseFn(guard, to, from, record, name)();\r\n                }));\r\n            }\r\n        }\r\n    }\r\n    return guards;\r\n}\r\n/**\r\n * Allows differentiating lazy components from functional components and vue-class-component\r\n *\r\n * @param component\r\n */\r\nfunction isRouteComponent(component) {\r\n    return (typeof component === 'object' ||\r\n        'displayName' in component ||\r\n        'props' in component ||\r\n        '__vccOpts' in component);\r\n}\n\n// TODO: we could allow currentRoute as a prop to expose `isActive` and\r\n// `isExactActive` behavior should go through an RFC\r\nfunction useLink(props) {\r\n    const router = vue.inject(routerKey);\r\n    const currentRoute = vue.inject(routeLocationKey);\r\n    const route = vue.computed(() => router.resolve(vue.unref(props.to)));\r\n    const activeRecordIndex = vue.computed(() => {\r\n        const { matched } = route.value;\r\n        const { length } = matched;\r\n        const routeMatched = matched[length - 1];\r\n        const currentMatched = currentRoute.matched;\r\n        if (!routeMatched || !currentMatched.length)\r\n            return -1;\r\n        const index = currentMatched.findIndex(isSameRouteRecord.bind(null, routeMatched));\r\n        if (index > -1)\r\n            return index;\r\n        // possible parent record\r\n        const parentRecordPath = getOriginalPath(matched[length - 2]);\r\n        return (\r\n        // we are dealing with nested routes\r\n        length > 1 &&\r\n            // if the parent and matched route have the same path, this link is\r\n            // referring to the empty child. Or we currently are on a different\r\n            // child of the same parent\r\n            getOriginalPath(routeMatched) === parentRecordPath &&\r\n            // avoid comparing the child with its parent\r\n            currentMatched[currentMatched.length - 1].path !== parentRecordPath\r\n            ? currentMatched.findIndex(isSameRouteRecord.bind(null, matched[length - 2]))\r\n            : index);\r\n    });\r\n    const isActive = vue.computed(() => activeRecordIndex.value > -1 &&\r\n        includesParams(currentRoute.params, route.value.params));\r\n    const isExactActive = vue.computed(() => activeRecordIndex.value > -1 &&\r\n        activeRecordIndex.value === currentRoute.matched.length - 1 &&\r\n        isSameRouteLocationParams(currentRoute.params, route.value.params));\r\n    function navigate(e = {}) {\r\n        if (guardEvent(e)) {\r\n            return router[vue.unref(props.replace) ? 'replace' : 'push'](vue.unref(props.to)\r\n            // avoid uncaught errors are they are logged anyway\r\n            ).catch(noop);\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n    // devtools only\r\n    if (isBrowser) {\r\n        const instance = vue.getCurrentInstance();\r\n        if (instance) {\r\n            const linkContextDevtools = {\r\n                route: route.value,\r\n                isActive: isActive.value,\r\n                isExactActive: isExactActive.value,\r\n            };\r\n            // @ts-expect-error: this is internal\r\n            instance.__vrl_devtools = instance.__vrl_devtools || [];\r\n            // @ts-expect-error: this is internal\r\n            instance.__vrl_devtools.push(linkContextDevtools);\r\n            vue.watchEffect(() => {\r\n                linkContextDevtools.route = route.value;\r\n                linkContextDevtools.isActive = isActive.value;\r\n                linkContextDevtools.isExactActive = isExactActive.value;\r\n            }, { flush: 'post' });\r\n        }\r\n    }\r\n    return {\r\n        route,\r\n        href: vue.computed(() => route.value.href),\r\n        isActive,\r\n        isExactActive,\r\n        navigate,\r\n    };\r\n}\r\nconst RouterLinkImpl = /*#__PURE__*/ vue.defineComponent({\r\n    name: 'RouterLink',\r\n    props: {\r\n        to: {\r\n            type: [String, Object],\r\n            required: true,\r\n        },\r\n        replace: Boolean,\r\n        activeClass: String,\r\n        // inactiveClass: String,\r\n        exactActiveClass: String,\r\n        custom: Boolean,\r\n        ariaCurrentValue: {\r\n            type: String,\r\n            default: 'page',\r\n        },\r\n    },\r\n    useLink,\r\n    setup(props, { slots }) {\r\n        const link = vue.reactive(useLink(props));\r\n        const { options } = vue.inject(routerKey);\r\n        const elClass = vue.computed(() => ({\r\n            [getLinkClass(props.activeClass, options.linkActiveClass, 'router-link-active')]: link.isActive,\r\n            // [getLinkClass(\r\n            //   props.inactiveClass,\r\n            //   options.linkInactiveClass,\r\n            //   'router-link-inactive'\r\n            // )]: !link.isExactActive,\r\n            [getLinkClass(props.exactActiveClass, options.linkExactActiveClass, 'router-link-exact-active')]: link.isExactActive,\r\n        }));\r\n        return () => {\r\n            const children = slots.default && slots.default(link);\r\n            return props.custom\r\n                ? children\r\n                : vue.h('a', {\r\n                    'aria-current': link.isExactActive\r\n                        ? props.ariaCurrentValue\r\n                        : null,\r\n                    href: link.href,\r\n                    // this would override user added attrs but Vue will still add\r\n                    // the listener so we end up triggering both\r\n                    onClick: link.navigate,\r\n                    class: elClass.value,\r\n                }, children);\r\n        };\r\n    },\r\n});\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\n/**\r\n * Component to render a link that triggers a navigation on click.\r\n */\r\nconst RouterLink = RouterLinkImpl;\r\nfunction guardEvent(e) {\r\n    // don't redirect with control keys\r\n    if (e.metaKey || e.altKey || e.ctrlKey || e.shiftKey)\r\n        return;\r\n    // don't redirect when preventDefault called\r\n    if (e.defaultPrevented)\r\n        return;\r\n    // don't redirect on right click\r\n    if (e.button !== undefined && e.button !== 0)\r\n        return;\r\n    // don't redirect if `target=\"_blank\"`\r\n    // @ts-expect-error getAttribute does exist\r\n    if (e.currentTarget && e.currentTarget.getAttribute) {\r\n        // @ts-expect-error getAttribute exists\r\n        const target = e.currentTarget.getAttribute('target');\r\n        if (/\\b_blank\\b/i.test(target))\r\n            return;\r\n    }\r\n    // this may be a Weex event which doesn't have this method\r\n    if (e.preventDefault)\r\n        e.preventDefault();\r\n    return true;\r\n}\r\nfunction includesParams(outer, inner) {\r\n    for (const key in inner) {\r\n        const innerValue = inner[key];\r\n        const outerValue = outer[key];\r\n        if (typeof innerValue === 'string') {\r\n            if (innerValue !== outerValue)\r\n                return false;\r\n        }\r\n        else {\r\n            if (!Array.isArray(outerValue) ||\r\n                outerValue.length !== innerValue.length ||\r\n                innerValue.some((value, i) => value !== outerValue[i]))\r\n                return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Get the original path value of a record by following its aliasOf\r\n * @param record\r\n */\r\nfunction getOriginalPath(record) {\r\n    return record ? (record.aliasOf ? record.aliasOf.path : record.path) : '';\r\n}\r\n/**\r\n * Utility class to get the active class based on defaults.\r\n * @param propClass\r\n * @param globalClass\r\n * @param defaultClass\r\n */\r\nconst getLinkClass = (propClass, globalClass, defaultClass) => propClass != null\r\n    ? propClass\r\n    : globalClass != null\r\n        ? globalClass\r\n        : defaultClass;\n\nconst RouterViewImpl = /*#__PURE__*/ vue.defineComponent({\r\n    name: 'RouterView',\r\n    // #674 we manually inherit them\r\n    inheritAttrs: false,\r\n    props: {\r\n        name: {\r\n            type: String,\r\n            default: 'default',\r\n        },\r\n        route: Object,\r\n    },\r\n    setup(props, { attrs, slots }) {\r\n        warnDeprecatedUsage();\r\n        const injectedRoute = vue.inject(routerViewLocationKey);\r\n        const routeToDisplay = vue.computed(() => props.route || injectedRoute.value);\r\n        const depth = vue.inject(viewDepthKey, 0);\r\n        const matchedRouteRef = vue.computed(() => routeToDisplay.value.matched[depth]);\r\n        vue.provide(viewDepthKey, depth + 1);\r\n        vue.provide(matchedRouteKey, matchedRouteRef);\r\n        vue.provide(routerViewLocationKey, routeToDisplay);\r\n        const viewRef = vue.ref();\r\n        // watch at the same time the component instance, the route record we are\r\n        // rendering, and the name\r\n        vue.watch(() => [viewRef.value, matchedRouteRef.value, props.name], ([instance, to, name], [oldInstance, from, oldName]) => {\r\n            // copy reused instances\r\n            if (to) {\r\n                // this will update the instance for new instances as well as reused\r\n                // instances when navigating to a new route\r\n                to.instances[name] = instance;\r\n                // the component instance is reused for a different route or name so\r\n                // we copy any saved update or leave guards. With async setup, the\r\n                // mounting component will mount before the matchedRoute changes,\r\n                // making instance === oldInstance, so we check if guards have been\r\n                // added before. This works because we remove guards when\r\n                // unmounting/deactivating components\r\n                if (from && from !== to && instance && instance === oldInstance) {\r\n                    if (!to.leaveGuards.size) {\r\n                        to.leaveGuards = from.leaveGuards;\r\n                    }\r\n                    if (!to.updateGuards.size) {\r\n                        to.updateGuards = from.updateGuards;\r\n                    }\r\n                }\r\n            }\r\n            // trigger beforeRouteEnter next callbacks\r\n            if (instance &&\r\n                to &&\r\n                // if there is no instance but to and from are the same this might be\r\n                // the first visit\r\n                (!from || !isSameRouteRecord(to, from) || !oldInstance)) {\r\n                (to.enterCallbacks[name] || []).forEach(callback => callback(instance));\r\n            }\r\n        }, { flush: 'post' });\r\n        return () => {\r\n            const route = routeToDisplay.value;\r\n            const matchedRoute = matchedRouteRef.value;\r\n            const ViewComponent = matchedRoute && matchedRoute.components[props.name];\r\n            // we need the value at the time we render because when we unmount, we\r\n            // navigated to a different location so the value is different\r\n            const currentName = props.name;\r\n            if (!ViewComponent) {\r\n                return normalizeSlot(slots.default, { Component: ViewComponent, route });\r\n            }\r\n            // props from route configuration\r\n            const routePropsOption = matchedRoute.props[props.name];\r\n            const routeProps = routePropsOption\r\n                ? routePropsOption === true\r\n                    ? route.params\r\n                    : typeof routePropsOption === 'function'\r\n                        ? routePropsOption(route)\r\n                        : routePropsOption\r\n                : null;\r\n            const onVnodeUnmounted = vnode => {\r\n                // remove the instance reference to prevent leak\r\n                if (vnode.component.isUnmounted) {\r\n                    matchedRoute.instances[currentName] = null;\r\n                }\r\n            };\r\n            const component = vue.h(ViewComponent, assign({}, routeProps, attrs, {\r\n                onVnodeUnmounted,\r\n                ref: viewRef,\r\n            }));\r\n            if (isBrowser &&\r\n                component.ref) {\r\n                // TODO: can display if it's an alias, its props\r\n                const info = {\r\n                    depth,\r\n                    name: matchedRoute.name,\r\n                    path: matchedRoute.path,\r\n                    meta: matchedRoute.meta,\r\n                };\r\n                const internalInstances = Array.isArray(component.ref)\r\n                    ? component.ref.map(r => r.i)\r\n                    : [component.ref.i];\r\n                internalInstances.forEach(instance => {\r\n                    // @ts-expect-error\r\n                    instance.__vrv_devtools = info;\r\n                });\r\n            }\r\n            return (\r\n            // pass the vnode to the slot as a prop.\r\n            // h and <component :is=\"...\"> both accept vnodes\r\n            normalizeSlot(slots.default, { Component: component, route }) ||\r\n                component);\r\n        };\r\n    },\r\n});\r\nfunction normalizeSlot(slot, data) {\r\n    if (!slot)\r\n        return null;\r\n    const slotContent = slot(data);\r\n    return slotContent.length === 1 ? slotContent[0] : slotContent;\r\n}\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\n/**\r\n * Component to display the current route the user is at.\r\n */\r\nconst RouterView = RouterViewImpl;\r\n// warn against deprecated usage with <transition> & <keep-alive>\r\n// due to functional component being no longer eager in Vue 3\r\nfunction warnDeprecatedUsage() {\r\n    const instance = vue.getCurrentInstance();\r\n    const parentName = instance.parent && instance.parent.type.name;\r\n    if (parentName &&\r\n        (parentName === 'KeepAlive' || parentName.includes('Transition'))) {\r\n        const comp = parentName === 'KeepAlive' ? 'keep-alive' : 'transition';\r\n        warn(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.\\n` +\r\n            `Use slot props instead:\\n\\n` +\r\n            `<router-view v-slot=\"{ Component }\">\\n` +\r\n            `  <${comp}>\\n` +\r\n            `    <component :is=\"Component\" />\\n` +\r\n            `  </${comp}>\\n` +\r\n            `</router-view>`);\r\n    }\r\n}\n\nfunction formatRouteLocation(routeLocation, tooltip) {\r\n    const copy = assign({}, routeLocation, {\r\n        // remove variables that can contain vue instances\r\n        matched: routeLocation.matched.map(matched => omit(matched, ['instances', 'children', 'aliasOf'])),\r\n    });\r\n    return {\r\n        _custom: {\r\n            type: null,\r\n            readOnly: true,\r\n            display: routeLocation.fullPath,\r\n            tooltip,\r\n            value: copy,\r\n        },\r\n    };\r\n}\r\nfunction formatDisplay(display) {\r\n    return {\r\n        _custom: {\r\n            display,\r\n        },\r\n    };\r\n}\r\n// to support multiple router instances\r\nlet routerId = 0;\r\nfunction addDevtools(app, router, matcher) {\r\n    // Take over router.beforeEach and afterEach\r\n    // make sure we are not registering the devtool twice\r\n    if (router.__hasDevtools)\r\n        return;\r\n    router.__hasDevtools = true;\r\n    // increment to support multiple router instances\r\n    const id = routerId++;\r\n    devtoolsApi.setupDevtoolsPlugin({\r\n        id: 'org.vuejs.router' + (id ? '.' + id : ''),\r\n        label: 'Vue Router',\r\n        packageName: 'vue-router',\r\n        homepage: 'https://router.vuejs.org',\r\n        logo: 'https://router.vuejs.org/logo.png',\r\n        componentStateTypes: ['Routing'],\r\n        app,\r\n    }, api => {\r\n        // display state added by the router\r\n        api.on.inspectComponent((payload, ctx) => {\r\n            if (payload.instanceData) {\r\n                payload.instanceData.state.push({\r\n                    type: 'Routing',\r\n                    key: '$route',\r\n                    editable: false,\r\n                    value: formatRouteLocation(router.currentRoute.value, 'Current Route'),\r\n                });\r\n            }\r\n        });\r\n        // mark router-link as active and display tags on router views\r\n        api.on.visitComponentTree(({ treeNode: node, componentInstance }) => {\r\n            if (componentInstance.__vrv_devtools) {\r\n                const info = componentInstance.__vrv_devtools;\r\n                node.tags.push({\r\n                    label: (info.name ? `${info.name.toString()}: ` : '') + info.path,\r\n                    textColor: 0,\r\n                    tooltip: 'This component is rendered by &lt;router-view&gt;',\r\n                    backgroundColor: PINK_500,\r\n                });\r\n            }\r\n            // if multiple useLink are used\r\n            if (Array.isArray(componentInstance.__vrl_devtools)) {\r\n                componentInstance.__devtoolsApi = api;\r\n                componentInstance.__vrl_devtools.forEach(devtoolsData => {\r\n                    let backgroundColor = ORANGE_400;\r\n                    let tooltip = '';\r\n                    if (devtoolsData.isExactActive) {\r\n                        backgroundColor = LIME_500;\r\n                        tooltip = 'This is exactly active';\r\n                    }\r\n                    else if (devtoolsData.isActive) {\r\n                        backgroundColor = BLUE_600;\r\n                        tooltip = 'This link is active';\r\n                    }\r\n                    node.tags.push({\r\n                        label: devtoolsData.route.path,\r\n                        textColor: 0,\r\n                        tooltip,\r\n                        backgroundColor,\r\n                    });\r\n                });\r\n            }\r\n        });\r\n        vue.watch(router.currentRoute, () => {\r\n            // refresh active state\r\n            refreshRoutesView();\r\n            api.notifyComponentUpdate();\r\n            api.sendInspectorTree(routerInspectorId);\r\n            api.sendInspectorState(routerInspectorId);\r\n        });\r\n        const navigationsLayerId = 'router:navigations:' + id;\r\n        api.addTimelineLayer({\r\n            id: navigationsLayerId,\r\n            label: `Router${id ? ' ' + id : ''} Navigations`,\r\n            color: 0x40a8c4,\r\n        });\r\n        // const errorsLayerId = 'router:errors'\r\n        // api.addTimelineLayer({\r\n        //   id: errorsLayerId,\r\n        //   label: 'Router Errors',\r\n        //   color: 0xea5455,\r\n        // })\r\n        router.onError((error, to) => {\r\n            api.addTimelineEvent({\r\n                layerId: navigationsLayerId,\r\n                event: {\r\n                    title: 'Error during Navigation',\r\n                    subtitle: to.fullPath,\r\n                    logType: 'error',\r\n                    time: Date.now(),\r\n                    data: { error },\r\n                    groupId: to.meta.__navigationId,\r\n                },\r\n            });\r\n        });\r\n        // attached to `meta` and used to group events\r\n        let navigationId = 0;\r\n        router.beforeEach((to, from) => {\r\n            const data = {\r\n                guard: formatDisplay('beforeEach'),\r\n                from: formatRouteLocation(from, 'Current Location during this navigation'),\r\n                to: formatRouteLocation(to, 'Target location'),\r\n            };\r\n            // Used to group navigations together, hide from devtools\r\n            Object.defineProperty(to.meta, '__navigationId', {\r\n                value: navigationId++,\r\n            });\r\n            api.addTimelineEvent({\r\n                layerId: navigationsLayerId,\r\n                event: {\r\n                    time: Date.now(),\r\n                    title: 'Start of navigation',\r\n                    subtitle: to.fullPath,\r\n                    data,\r\n                    groupId: to.meta.__navigationId,\r\n                },\r\n            });\r\n        });\r\n        router.afterEach((to, from, failure) => {\r\n            const data = {\r\n                guard: formatDisplay('afterEach'),\r\n            };\r\n            if (failure) {\r\n                data.failure = {\r\n                    _custom: {\r\n                        type: Error,\r\n                        readOnly: true,\r\n                        display: failure ? failure.message : '',\r\n                        tooltip: 'Navigation Failure',\r\n                        value: failure,\r\n                    },\r\n                };\r\n                data.status = formatDisplay('❌');\r\n            }\r\n            else {\r\n                data.status = formatDisplay('✅');\r\n            }\r\n            // we set here to have the right order\r\n            data.from = formatRouteLocation(from, 'Current Location during this navigation');\r\n            data.to = formatRouteLocation(to, 'Target location');\r\n            api.addTimelineEvent({\r\n                layerId: navigationsLayerId,\r\n                event: {\r\n                    title: 'End of navigation',\r\n                    subtitle: to.fullPath,\r\n                    time: Date.now(),\r\n                    data,\r\n                    logType: failure ? 'warning' : 'default',\r\n                    groupId: to.meta.__navigationId,\r\n                },\r\n            });\r\n        });\r\n        /**\r\n         * Inspector of Existing routes\r\n         */\r\n        const routerInspectorId = 'router-inspector:' + id;\r\n        api.addInspector({\r\n            id: routerInspectorId,\r\n            label: 'Routes' + (id ? ' ' + id : ''),\r\n            icon: 'book',\r\n            treeFilterPlaceholder: 'Search routes',\r\n        });\r\n        function refreshRoutesView() {\r\n            // the routes view isn't active\r\n            if (!activeRoutesPayload)\r\n                return;\r\n            const payload = activeRoutesPayload;\r\n            // children routes will appear as nested\r\n            let routes = matcher.getRoutes().filter(route => !route.parent);\r\n            // reset match state to false\r\n            routes.forEach(resetMatchStateOnRouteRecord);\r\n            // apply a match state if there is a payload\r\n            if (payload.filter) {\r\n                routes = routes.filter(route => \r\n                // save matches state based on the payload\r\n                isRouteMatching(route, payload.filter.toLowerCase()));\r\n            }\r\n            // mark active routes\r\n            routes.forEach(route => markRouteRecordActive(route, router.currentRoute.value));\r\n            payload.rootNodes = routes.map(formatRouteRecordForInspector);\r\n        }\r\n        let activeRoutesPayload;\r\n        api.on.getInspectorTree(payload => {\r\n            activeRoutesPayload = payload;\r\n            if (payload.app === app && payload.inspectorId === routerInspectorId) {\r\n                refreshRoutesView();\r\n            }\r\n        });\r\n        /**\r\n         * Display information about the currently selected route record\r\n         */\r\n        api.on.getInspectorState(payload => {\r\n            if (payload.app === app && payload.inspectorId === routerInspectorId) {\r\n                const routes = matcher.getRoutes();\r\n                const route = routes.find(route => route.record.__vd_id === payload.nodeId);\r\n                if (route) {\r\n                    payload.state = {\r\n                        options: formatRouteRecordMatcherForStateInspector(route),\r\n                    };\r\n                }\r\n            }\r\n        });\r\n        api.sendInspectorTree(routerInspectorId);\r\n        api.sendInspectorState(routerInspectorId);\r\n    });\r\n}\r\nfunction modifierForKey(key) {\r\n    if (key.optional) {\r\n        return key.repeatable ? '*' : '?';\r\n    }\r\n    else {\r\n        return key.repeatable ? '+' : '';\r\n    }\r\n}\r\nfunction formatRouteRecordMatcherForStateInspector(route) {\r\n    const { record } = route;\r\n    const fields = [\r\n        { editable: false, key: 'path', value: record.path },\r\n    ];\r\n    if (record.name != null) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'name',\r\n            value: record.name,\r\n        });\r\n    }\r\n    fields.push({ editable: false, key: 'regexp', value: route.re });\r\n    if (route.keys.length) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'keys',\r\n            value: {\r\n                _custom: {\r\n                    type: null,\r\n                    readOnly: true,\r\n                    display: route.keys\r\n                        .map(key => `${key.name}${modifierForKey(key)}`)\r\n                        .join(' '),\r\n                    tooltip: 'Param keys',\r\n                    value: route.keys,\r\n                },\r\n            },\r\n        });\r\n    }\r\n    if (record.redirect != null) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'redirect',\r\n            value: record.redirect,\r\n        });\r\n    }\r\n    if (route.alias.length) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'aliases',\r\n            value: route.alias.map(alias => alias.record.path),\r\n        });\r\n    }\r\n    fields.push({\r\n        key: 'score',\r\n        editable: false,\r\n        value: {\r\n            _custom: {\r\n                type: null,\r\n                readOnly: true,\r\n                display: route.score.map(score => score.join(', ')).join(' | '),\r\n                tooltip: 'Score used to sort routes',\r\n                value: route.score,\r\n            },\r\n        },\r\n    });\r\n    return fields;\r\n}\r\n/**\r\n * Extracted from tailwind palette\r\n */\r\nconst PINK_500 = 0xec4899;\r\nconst BLUE_600 = 0x2563eb;\r\nconst LIME_500 = 0x84cc16;\r\nconst CYAN_400 = 0x22d3ee;\r\nconst ORANGE_400 = 0xfb923c;\r\n// const GRAY_100 = 0xf4f4f5\r\nconst DARK = 0x666666;\r\nfunction formatRouteRecordForInspector(route) {\r\n    const tags = [];\r\n    const { record } = route;\r\n    if (record.name != null) {\r\n        tags.push({\r\n            label: String(record.name),\r\n            textColor: 0,\r\n            backgroundColor: CYAN_400,\r\n        });\r\n    }\r\n    if (record.aliasOf) {\r\n        tags.push({\r\n            label: 'alias',\r\n            textColor: 0,\r\n            backgroundColor: ORANGE_400,\r\n        });\r\n    }\r\n    if (route.__vd_match) {\r\n        tags.push({\r\n            label: 'matches',\r\n            textColor: 0,\r\n            backgroundColor: PINK_500,\r\n        });\r\n    }\r\n    if (route.__vd_exactActive) {\r\n        tags.push({\r\n            label: 'exact',\r\n            textColor: 0,\r\n            backgroundColor: LIME_500,\r\n        });\r\n    }\r\n    if (route.__vd_active) {\r\n        tags.push({\r\n            label: 'active',\r\n            textColor: 0,\r\n            backgroundColor: BLUE_600,\r\n        });\r\n    }\r\n    if (record.redirect) {\r\n        tags.push({\r\n            label: 'redirect: ' +\r\n                (typeof record.redirect === 'string' ? record.redirect : 'Object'),\r\n            textColor: 0xffffff,\r\n            backgroundColor: DARK,\r\n        });\r\n    }\r\n    // add an id to be able to select it. Using the `path` is not possible because\r\n    // empty path children would collide with their parents\r\n    let id = record.__vd_id;\r\n    if (id == null) {\r\n        id = String(routeRecordId++);\r\n        record.__vd_id = id;\r\n    }\r\n    return {\r\n        id,\r\n        label: record.path,\r\n        tags,\r\n        children: route.children.map(formatRouteRecordForInspector),\r\n    };\r\n}\r\n//  incremental id for route records and inspector state\r\nlet routeRecordId = 0;\r\nconst EXTRACT_REGEXP_RE = /^\\/(.*)\\/([a-z]*)$/;\r\nfunction markRouteRecordActive(route, currentRoute) {\r\n    // no route will be active if matched is empty\r\n    // reset the matching state\r\n    const isExactActive = currentRoute.matched.length &&\r\n        isSameRouteRecord(currentRoute.matched[currentRoute.matched.length - 1], route.record);\r\n    route.__vd_exactActive = route.__vd_active = isExactActive;\r\n    if (!isExactActive) {\r\n        route.__vd_active = currentRoute.matched.some(match => isSameRouteRecord(match, route.record));\r\n    }\r\n    route.children.forEach(childRoute => markRouteRecordActive(childRoute, currentRoute));\r\n}\r\nfunction resetMatchStateOnRouteRecord(route) {\r\n    route.__vd_match = false;\r\n    route.children.forEach(resetMatchStateOnRouteRecord);\r\n}\r\nfunction isRouteMatching(route, filter) {\r\n    const found = String(route.re).match(EXTRACT_REGEXP_RE);\r\n    route.__vd_match = false;\r\n    if (!found || found.length < 3) {\r\n        return false;\r\n    }\r\n    // use a regexp without $ at the end to match nested routes better\r\n    const nonEndingRE = new RegExp(found[1].replace(/\\$$/, ''), found[2]);\r\n    if (nonEndingRE.test(filter)) {\r\n        // mark children as matches\r\n        route.children.forEach(child => isRouteMatching(child, filter));\r\n        // exception case: `/`\r\n        if (route.record.path !== '/' || filter === '/') {\r\n            route.__vd_match = route.re.test(filter);\r\n            return true;\r\n        }\r\n        // hide the / route\r\n        return false;\r\n    }\r\n    const path = route.record.path.toLowerCase();\r\n    const decodedPath = decode(path);\r\n    // also allow partial matching on the path\r\n    if (!filter.startsWith('/') &&\r\n        (decodedPath.includes(filter) || path.includes(filter)))\r\n        return true;\r\n    if (decodedPath.startsWith(filter) || path.startsWith(filter))\r\n        return true;\r\n    if (route.record.name && String(route.record.name).includes(filter))\r\n        return true;\r\n    return route.children.some(child => isRouteMatching(child, filter));\r\n}\r\nfunction omit(obj, keys) {\r\n    const ret = {};\r\n    for (const key in obj) {\r\n        if (!keys.includes(key)) {\r\n            // @ts-expect-error\r\n            ret[key] = obj[key];\r\n        }\r\n    }\r\n    return ret;\r\n}\n\n/**\r\n * Creates a Router instance that can be used by a Vue app.\r\n *\r\n * @param options - {@link RouterOptions}\r\n */\r\nfunction createRouter(options) {\r\n    const matcher = createRouterMatcher(options.routes, options);\r\n    const parseQuery$1 = options.parseQuery || parseQuery;\r\n    const stringifyQuery$1 = options.stringifyQuery || stringifyQuery;\r\n    const routerHistory = options.history;\r\n    if (!routerHistory)\r\n        throw new Error('Provide the \"history\" option when calling \"createRouter()\":' +\r\n            ' https://next.router.vuejs.org/api/#history.');\r\n    const beforeGuards = useCallbacks();\r\n    const beforeResolveGuards = useCallbacks();\r\n    const afterGuards = useCallbacks();\r\n    const currentRoute = vue.shallowRef(START_LOCATION_NORMALIZED);\r\n    let pendingLocation = START_LOCATION_NORMALIZED;\r\n    // leave the scrollRestoration if no scrollBehavior is provided\r\n    if (isBrowser && options.scrollBehavior && 'scrollRestoration' in history) {\r\n        history.scrollRestoration = 'manual';\r\n    }\r\n    const normalizeParams = applyToParams.bind(null, paramValue => '' + paramValue);\r\n    const encodeParams = applyToParams.bind(null, encodeParam);\r\n    const decodeParams = \r\n    // @ts-expect-error: intentionally avoid the type check\r\n    applyToParams.bind(null, decode);\r\n    function addRoute(parentOrRoute, route) {\r\n        let parent;\r\n        let record;\r\n        if (isRouteName(parentOrRoute)) {\r\n            parent = matcher.getRecordMatcher(parentOrRoute);\r\n            record = route;\r\n        }\r\n        else {\r\n            record = parentOrRoute;\r\n        }\r\n        return matcher.addRoute(record, parent);\r\n    }\r\n    function removeRoute(name) {\r\n        const recordMatcher = matcher.getRecordMatcher(name);\r\n        if (recordMatcher) {\r\n            matcher.removeRoute(recordMatcher);\r\n        }\r\n        else {\r\n            warn(`Cannot remove non-existent route \"${String(name)}\"`);\r\n        }\r\n    }\r\n    function getRoutes() {\r\n        return matcher.getRoutes().map(routeMatcher => routeMatcher.record);\r\n    }\r\n    function hasRoute(name) {\r\n        return !!matcher.getRecordMatcher(name);\r\n    }\r\n    function resolve(rawLocation, currentLocation) {\r\n        // const objectLocation = routerLocationAsObject(rawLocation)\r\n        // we create a copy to modify it later\r\n        currentLocation = assign({}, currentLocation || currentRoute.value);\r\n        if (typeof rawLocation === 'string') {\r\n            const locationNormalized = parseURL(parseQuery$1, rawLocation, currentLocation.path);\r\n            const matchedRoute = matcher.resolve({ path: locationNormalized.path }, currentLocation);\r\n            const href = routerHistory.createHref(locationNormalized.fullPath);\r\n            {\r\n                if (href.startsWith('//'))\r\n                    warn(`Location \"${rawLocation}\" resolved to \"${href}\". A resolved location cannot start with multiple slashes.`);\r\n                else if (!matchedRoute.matched.length) {\r\n                    warn(`No match found for location with path \"${rawLocation}\"`);\r\n                }\r\n            }\r\n            // locationNormalized is always a new object\r\n            return assign(locationNormalized, matchedRoute, {\r\n                params: decodeParams(matchedRoute.params),\r\n                hash: decode(locationNormalized.hash),\r\n                redirectedFrom: undefined,\r\n                href,\r\n            });\r\n        }\r\n        let matcherLocation;\r\n        // path could be relative in object as well\r\n        if ('path' in rawLocation) {\r\n            if ('params' in rawLocation &&\r\n                !('name' in rawLocation) &&\r\n                // @ts-expect-error: the type is never\r\n                Object.keys(rawLocation.params).length) {\r\n                warn(`Path \"${\r\n                // @ts-expect-error: the type is never\r\n                rawLocation.path}\" was passed with params but they will be ignored. Use a named route alongside params instead.`);\r\n            }\r\n            matcherLocation = assign({}, rawLocation, {\r\n                path: parseURL(parseQuery$1, rawLocation.path, currentLocation.path).path,\r\n            });\r\n        }\r\n        else {\r\n            // remove any nullish param\r\n            const targetParams = assign({}, rawLocation.params);\r\n            for (const key in targetParams) {\r\n                if (targetParams[key] == null) {\r\n                    delete targetParams[key];\r\n                }\r\n            }\r\n            // pass encoded values to the matcher so it can produce encoded path and fullPath\r\n            matcherLocation = assign({}, rawLocation, {\r\n                params: encodeParams(rawLocation.params),\r\n            });\r\n            // current location params are decoded, we need to encode them in case the\r\n            // matcher merges the params\r\n            currentLocation.params = encodeParams(currentLocation.params);\r\n        }\r\n        const matchedRoute = matcher.resolve(matcherLocation, currentLocation);\r\n        const hash = rawLocation.hash || '';\r\n        if (hash && !hash.startsWith('#')) {\r\n            warn(`A \\`hash\\` should always start with the character \"#\". Replace \"${hash}\" with \"#${hash}\".`);\r\n        }\r\n        // decoding them) the matcher might have merged current location params so\r\n        // we need to run the decoding again\r\n        matchedRoute.params = normalizeParams(decodeParams(matchedRoute.params));\r\n        const fullPath = stringifyURL(stringifyQuery$1, assign({}, rawLocation, {\r\n            hash: encodeHash(hash),\r\n            path: matchedRoute.path,\r\n        }));\r\n        const href = routerHistory.createHref(fullPath);\r\n        {\r\n            if (href.startsWith('//')) {\r\n                warn(`Location \"${rawLocation}\" resolved to \"${href}\". A resolved location cannot start with multiple slashes.`);\r\n            }\r\n            else if (!matchedRoute.matched.length) {\r\n                warn(`No match found for location with path \"${'path' in rawLocation ? rawLocation.path : rawLocation}\"`);\r\n            }\r\n        }\r\n        return assign({\r\n            fullPath,\r\n            // keep the hash encoded so fullPath is effectively path + encodedQuery +\r\n            // hash\r\n            hash,\r\n            query: \r\n            // if the user is using a custom query lib like qs, we might have\r\n            // nested objects, so we keep the query as is, meaning it can contain\r\n            // numbers at `$route.query`, but at the point, the user will have to\r\n            // use their own type anyway.\r\n            // https://github.com/vuejs/router/issues/328#issuecomment-649481567\r\n            stringifyQuery$1 === stringifyQuery\r\n                ? normalizeQuery(rawLocation.query)\r\n                : (rawLocation.query || {}),\r\n        }, matchedRoute, {\r\n            redirectedFrom: undefined,\r\n            href,\r\n        });\r\n    }\r\n    function locationAsObject(to) {\r\n        return typeof to === 'string'\r\n            ? parseURL(parseQuery$1, to, currentRoute.value.path)\r\n            : assign({}, to);\r\n    }\r\n    function checkCanceledNavigation(to, from) {\r\n        if (pendingLocation !== to) {\r\n            return createRouterError(8 /* NAVIGATION_CANCELLED */, {\r\n                from,\r\n                to,\r\n            });\r\n        }\r\n    }\r\n    function push(to) {\r\n        return pushWithRedirect(to);\r\n    }\r\n    function replace(to) {\r\n        return push(assign(locationAsObject(to), { replace: true }));\r\n    }\r\n    function handleRedirectRecord(to) {\r\n        const lastMatched = to.matched[to.matched.length - 1];\r\n        if (lastMatched && lastMatched.redirect) {\r\n            const { redirect } = lastMatched;\r\n            let newTargetLocation = typeof redirect === 'function' ? redirect(to) : redirect;\r\n            if (typeof newTargetLocation === 'string') {\r\n                newTargetLocation =\r\n                    newTargetLocation.includes('?') || newTargetLocation.includes('#')\r\n                        ? (newTargetLocation = locationAsObject(newTargetLocation))\r\n                        : // force empty params\r\n                            { path: newTargetLocation };\r\n                // @ts-expect-error: force empty params when a string is passed to let\r\n                // the router parse them again\r\n                newTargetLocation.params = {};\r\n            }\r\n            if (!('path' in newTargetLocation) &&\r\n                !('name' in newTargetLocation)) {\r\n                warn(`Invalid redirect found:\\n${JSON.stringify(newTargetLocation, null, 2)}\\n when navigating to \"${to.fullPath}\". A redirect must contain a name or path. This will break in production.`);\r\n                throw new Error('Invalid redirect');\r\n            }\r\n            return assign({\r\n                query: to.query,\r\n                hash: to.hash,\r\n                params: to.params,\r\n            }, newTargetLocation);\r\n        }\r\n    }\r\n    function pushWithRedirect(to, redirectedFrom) {\r\n        const targetLocation = (pendingLocation = resolve(to));\r\n        const from = currentRoute.value;\r\n        const data = to.state;\r\n        const force = to.force;\r\n        // to could be a string where `replace` is a function\r\n        const replace = to.replace === true;\r\n        const shouldRedirect = handleRedirectRecord(targetLocation);\r\n        if (shouldRedirect)\r\n            return pushWithRedirect(assign(locationAsObject(shouldRedirect), {\r\n                state: data,\r\n                force,\r\n                replace,\r\n            }), \r\n            // keep original redirectedFrom if it exists\r\n            redirectedFrom || targetLocation);\r\n        // if it was a redirect we already called `pushWithRedirect` above\r\n        const toLocation = targetLocation;\r\n        toLocation.redirectedFrom = redirectedFrom;\r\n        let failure;\r\n        if (!force && isSameRouteLocation(stringifyQuery$1, from, targetLocation)) {\r\n            failure = createRouterError(16 /* NAVIGATION_DUPLICATED */, { to: toLocation, from });\r\n            // trigger scroll to allow scrolling to the same anchor\r\n            handleScroll(from, from, \r\n            // this is a push, the only way for it to be triggered from a\r\n            // history.listen is with a redirect, which makes it become a push\r\n            true, \r\n            // This cannot be the first navigation because the initial location\r\n            // cannot be manually navigated to\r\n            false);\r\n        }\r\n        return (failure ? Promise.resolve(failure) : navigate(toLocation, from))\r\n            .catch((error) => isNavigationFailure(error)\r\n            ? // navigation redirects still mark the router as ready\r\n                isNavigationFailure(error, 2 /* NAVIGATION_GUARD_REDIRECT */)\r\n                    ? error\r\n                    : markAsReady(error) // also returns the error\r\n            : // reject any unknown error\r\n                triggerError(error, toLocation, from))\r\n            .then((failure) => {\r\n            if (failure) {\r\n                if (isNavigationFailure(failure, 2 /* NAVIGATION_GUARD_REDIRECT */)) {\r\n                    if (// we are redirecting to the same location we were already at\r\n                        isSameRouteLocation(stringifyQuery$1, resolve(failure.to), toLocation) &&\r\n                        // and we have done it a couple of times\r\n                        redirectedFrom &&\r\n                        // @ts-expect-error: added only in dev\r\n                        (redirectedFrom._count = redirectedFrom._count\r\n                            ? // @ts-expect-error\r\n                                redirectedFrom._count + 1\r\n                            : 1) > 10) {\r\n                        warn(`Detected an infinite redirection in a navigation guard when going from \"${from.fullPath}\" to \"${toLocation.fullPath}\". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`);\r\n                        return Promise.reject(new Error('Infinite redirect in navigation guard'));\r\n                    }\r\n                    return pushWithRedirect(\r\n                    // keep options\r\n                    assign(locationAsObject(failure.to), {\r\n                        state: data,\r\n                        force,\r\n                        replace,\r\n                    }), \r\n                    // preserve the original redirectedFrom if any\r\n                    redirectedFrom || toLocation);\r\n                }\r\n            }\r\n            else {\r\n                // if we fail we don't finalize the navigation\r\n                failure = finalizeNavigation(toLocation, from, true, replace, data);\r\n            }\r\n            triggerAfterEach(toLocation, from, failure);\r\n            return failure;\r\n        });\r\n    }\r\n    /**\r\n     * Helper to reject and skip all navigation guards if a new navigation happened\r\n     * @param to\r\n     * @param from\r\n     */\r\n    function checkCanceledNavigationAndReject(to, from) {\r\n        const error = checkCanceledNavigation(to, from);\r\n        return error ? Promise.reject(error) : Promise.resolve();\r\n    }\r\n    // TODO: refactor the whole before guards by internally using router.beforeEach\r\n    function navigate(to, from) {\r\n        let guards;\r\n        const [leavingRecords, updatingRecords, enteringRecords] = extractChangingRecords(to, from);\r\n        // all components here have been resolved once because we are leaving\r\n        guards = extractComponentsGuards(leavingRecords.reverse(), 'beforeRouteLeave', to, from);\r\n        // leavingRecords is already reversed\r\n        for (const record of leavingRecords) {\r\n            record.leaveGuards.forEach(guard => {\r\n                guards.push(guardToPromiseFn(guard, to, from));\r\n            });\r\n        }\r\n        const canceledNavigationCheck = checkCanceledNavigationAndReject.bind(null, to, from);\r\n        guards.push(canceledNavigationCheck);\r\n        // run the queue of per route beforeRouteLeave guards\r\n        return (runGuardQueue(guards)\r\n            .then(() => {\r\n            // check global guards beforeEach\r\n            guards = [];\r\n            for (const guard of beforeGuards.list()) {\r\n                guards.push(guardToPromiseFn(guard, to, from));\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // check in components beforeRouteUpdate\r\n            guards = extractComponentsGuards(updatingRecords, 'beforeRouteUpdate', to, from);\r\n            for (const record of updatingRecords) {\r\n                record.updateGuards.forEach(guard => {\r\n                    guards.push(guardToPromiseFn(guard, to, from));\r\n                });\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            // run the queue of per route beforeEnter guards\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // check the route beforeEnter\r\n            guards = [];\r\n            for (const record of to.matched) {\r\n                // do not trigger beforeEnter on reused views\r\n                if (record.beforeEnter && !from.matched.includes(record)) {\r\n                    if (Array.isArray(record.beforeEnter)) {\r\n                        for (const beforeEnter of record.beforeEnter)\r\n                            guards.push(guardToPromiseFn(beforeEnter, to, from));\r\n                    }\r\n                    else {\r\n                        guards.push(guardToPromiseFn(record.beforeEnter, to, from));\r\n                    }\r\n                }\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            // run the queue of per route beforeEnter guards\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // NOTE: at this point to.matched is normalized and does not contain any () => Promise<Component>\r\n            // clear existing enterCallbacks, these are added by extractComponentsGuards\r\n            to.matched.forEach(record => (record.enterCallbacks = {}));\r\n            // check in-component beforeRouteEnter\r\n            guards = extractComponentsGuards(enteringRecords, 'beforeRouteEnter', to, from);\r\n            guards.push(canceledNavigationCheck);\r\n            // run the queue of per route beforeEnter guards\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // check global guards beforeResolve\r\n            guards = [];\r\n            for (const guard of beforeResolveGuards.list()) {\r\n                guards.push(guardToPromiseFn(guard, to, from));\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            return runGuardQueue(guards);\r\n        })\r\n            // catch any navigation canceled\r\n            .catch(err => isNavigationFailure(err, 8 /* NAVIGATION_CANCELLED */)\r\n            ? err\r\n            : Promise.reject(err)));\r\n    }\r\n    function triggerAfterEach(to, from, failure) {\r\n        // navigation is confirmed, call afterGuards\r\n        // TODO: wrap with error handlers\r\n        for (const guard of afterGuards.list())\r\n            guard(to, from, failure);\r\n    }\r\n    /**\r\n     * - Cleans up any navigation guards\r\n     * - Changes the url if necessary\r\n     * - Calls the scrollBehavior\r\n     */\r\n    function finalizeNavigation(toLocation, from, isPush, replace, data) {\r\n        // a more recent navigation took place\r\n        const error = checkCanceledNavigation(toLocation, from);\r\n        if (error)\r\n            return error;\r\n        // only consider as push if it's not the first navigation\r\n        const isFirstNavigation = from === START_LOCATION_NORMALIZED;\r\n        const state = !isBrowser ? {} : history.state;\r\n        // change URL only if the user did a push/replace and if it's not the initial navigation because\r\n        // it's just reflecting the url\r\n        if (isPush) {\r\n            // on the initial navigation, we want to reuse the scroll position from\r\n            // history state if it exists\r\n            if (replace || isFirstNavigation)\r\n                routerHistory.replace(toLocation.fullPath, assign({\r\n                    scroll: isFirstNavigation && state && state.scroll,\r\n                }, data));\r\n            else\r\n                routerHistory.push(toLocation.fullPath, data);\r\n        }\r\n        // accept current navigation\r\n        currentRoute.value = toLocation;\r\n        handleScroll(toLocation, from, isPush, isFirstNavigation);\r\n        markAsReady();\r\n    }\r\n    let removeHistoryListener;\r\n    // attach listener to history to trigger navigations\r\n    function setupListeners() {\r\n        removeHistoryListener = routerHistory.listen((to, _from, info) => {\r\n            // cannot be a redirect route because it was in history\r\n            const toLocation = resolve(to);\r\n            // due to dynamic routing, and to hash history with manual navigation\r\n            // (manually changing the url or calling history.hash = '#/somewhere'),\r\n            // there could be a redirect record in history\r\n            const shouldRedirect = handleRedirectRecord(toLocation);\r\n            if (shouldRedirect) {\r\n                pushWithRedirect(assign(shouldRedirect, { replace: true }), toLocation).catch(noop);\r\n                return;\r\n            }\r\n            pendingLocation = toLocation;\r\n            const from = currentRoute.value;\r\n            // TODO: should be moved to web history?\r\n            if (isBrowser) {\r\n                saveScrollPosition(getScrollKey(from.fullPath, info.delta), computeScrollPosition());\r\n            }\r\n            navigate(toLocation, from)\r\n                .catch((error) => {\r\n                if (isNavigationFailure(error, 4 /* NAVIGATION_ABORTED */ | 8 /* NAVIGATION_CANCELLED */)) {\r\n                    return error;\r\n                }\r\n                if (isNavigationFailure(error, 2 /* NAVIGATION_GUARD_REDIRECT */)) {\r\n                    // Here we could call if (info.delta) routerHistory.go(-info.delta,\r\n                    // false) but this is bug prone as we have no way to wait the\r\n                    // navigation to be finished before calling pushWithRedirect. Using\r\n                    // a setTimeout of 16ms seems to work but there is not guarantee for\r\n                    // it to work on every browser. So Instead we do not restore the\r\n                    // history entry and trigger a new navigation as requested by the\r\n                    // navigation guard.\r\n                    // the error is already handled by router.push we just want to avoid\r\n                    // logging the error\r\n                    pushWithRedirect(error.to, toLocation\r\n                    // avoid an uncaught rejection, let push call triggerError\r\n                    )\r\n                        .then(failure => {\r\n                        // manual change in hash history #916 ending up in the URL not\r\n                        // changing but it was changed by the manual url change, so we\r\n                        // need to manually change it ourselves\r\n                        if (isNavigationFailure(failure, 4 /* NAVIGATION_ABORTED */ |\r\n                            16 /* NAVIGATION_DUPLICATED */) &&\r\n                            !info.delta &&\r\n                            info.type === NavigationType.pop) {\r\n                            routerHistory.go(-1, false);\r\n                        }\r\n                    })\r\n                        .catch(noop);\r\n                    // avoid the then branch\r\n                    return Promise.reject();\r\n                }\r\n                // do not restore history on unknown direction\r\n                if (info.delta)\r\n                    routerHistory.go(-info.delta, false);\r\n                // unrecognized error, transfer to the global handler\r\n                return triggerError(error, toLocation, from);\r\n            })\r\n                .then((failure) => {\r\n                failure =\r\n                    failure ||\r\n                        finalizeNavigation(\r\n                        // after navigation, all matched components are resolved\r\n                        toLocation, from, false);\r\n                // revert the navigation\r\n                if (failure) {\r\n                    if (info.delta) {\r\n                        routerHistory.go(-info.delta, false);\r\n                    }\r\n                    else if (info.type === NavigationType.pop &&\r\n                        isNavigationFailure(failure, 4 /* NAVIGATION_ABORTED */ | 16 /* NAVIGATION_DUPLICATED */)) {\r\n                        // manual change in hash history #916\r\n                        // it's like a push but lacks the information of the direction\r\n                        routerHistory.go(-1, false);\r\n                    }\r\n                }\r\n                triggerAfterEach(toLocation, from, failure);\r\n            })\r\n                .catch(noop);\r\n        });\r\n    }\r\n    // Initialization and Errors\r\n    let readyHandlers = useCallbacks();\r\n    let errorHandlers = useCallbacks();\r\n    let ready;\r\n    /**\r\n     * Trigger errorHandlers added via onError and throws the error as well\r\n     *\r\n     * @param error - error to throw\r\n     * @param to - location we were navigating to when the error happened\r\n     * @param from - location we were navigating from when the error happened\r\n     * @returns the error as a rejected promise\r\n     */\r\n    function triggerError(error, to, from) {\r\n        markAsReady(error);\r\n        const list = errorHandlers.list();\r\n        if (list.length) {\r\n            list.forEach(handler => handler(error, to, from));\r\n        }\r\n        else {\r\n            {\r\n                warn('uncaught error during route navigation:');\r\n            }\r\n            console.error(error);\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n    function isReady() {\r\n        if (ready && currentRoute.value !== START_LOCATION_NORMALIZED)\r\n            return Promise.resolve();\r\n        return new Promise((resolve, reject) => {\r\n            readyHandlers.add([resolve, reject]);\r\n        });\r\n    }\r\n    function markAsReady(err) {\r\n        if (!ready) {\r\n            // still not ready if an error happened\r\n            ready = !err;\r\n            setupListeners();\r\n            readyHandlers\r\n                .list()\r\n                .forEach(([resolve, reject]) => (err ? reject(err) : resolve()));\r\n            readyHandlers.reset();\r\n        }\r\n        return err;\r\n    }\r\n    // Scroll behavior\r\n    function handleScroll(to, from, isPush, isFirstNavigation) {\r\n        const { scrollBehavior } = options;\r\n        if (!isBrowser || !scrollBehavior)\r\n            return Promise.resolve();\r\n        const scrollPosition = (!isPush && getSavedScrollPosition(getScrollKey(to.fullPath, 0))) ||\r\n            ((isFirstNavigation || !isPush) &&\r\n                history.state &&\r\n                history.state.scroll) ||\r\n            null;\r\n        return vue.nextTick()\r\n            .then(() => scrollBehavior(to, from, scrollPosition))\r\n            .then(position => position && scrollToPosition(position))\r\n            .catch(err => triggerError(err, to, from));\r\n    }\r\n    const go = (delta) => routerHistory.go(delta);\r\n    let started;\r\n    const installedApps = new Set();\r\n    const router = {\r\n        currentRoute,\r\n        addRoute,\r\n        removeRoute,\r\n        hasRoute,\r\n        getRoutes,\r\n        resolve,\r\n        options,\r\n        push,\r\n        replace,\r\n        go,\r\n        back: () => go(-1),\r\n        forward: () => go(1),\r\n        beforeEach: beforeGuards.add,\r\n        beforeResolve: beforeResolveGuards.add,\r\n        afterEach: afterGuards.add,\r\n        onError: errorHandlers.add,\r\n        isReady,\r\n        install(app) {\r\n            const router = this;\r\n            app.component('RouterLink', RouterLink);\r\n            app.component('RouterView', RouterView);\r\n            app.config.globalProperties.$router = router;\r\n            Object.defineProperty(app.config.globalProperties, '$route', {\r\n                enumerable: true,\r\n                get: () => vue.unref(currentRoute),\r\n            });\r\n            // this initial navigation is only necessary on client, on server it doesn't\r\n            // make sense because it will create an extra unnecessary navigation and could\r\n            // lead to problems\r\n            if (isBrowser &&\r\n                // used for the initial navigation client side to avoid pushing\r\n                // multiple times when the router is used in multiple apps\r\n                !started &&\r\n                currentRoute.value === START_LOCATION_NORMALIZED) {\r\n                // see above\r\n                started = true;\r\n                push(routerHistory.location).catch(err => {\r\n                    warn('Unexpected error when starting the router:', err);\r\n                });\r\n            }\r\n            const reactiveRoute = {};\r\n            for (const key in START_LOCATION_NORMALIZED) {\r\n                // @ts-expect-error: the key matches\r\n                reactiveRoute[key] = vue.computed(() => currentRoute.value[key]);\r\n            }\r\n            app.provide(routerKey, router);\r\n            app.provide(routeLocationKey, vue.reactive(reactiveRoute));\r\n            app.provide(routerViewLocationKey, currentRoute);\r\n            const unmountApp = app.unmount;\r\n            installedApps.add(app);\r\n            app.unmount = function () {\r\n                installedApps.delete(app);\r\n                // the router is not attached to an app anymore\r\n                if (installedApps.size < 1) {\r\n                    // invalidate the current navigation\r\n                    pendingLocation = START_LOCATION_NORMALIZED;\r\n                    removeHistoryListener && removeHistoryListener();\r\n                    currentRoute.value = START_LOCATION_NORMALIZED;\r\n                    started = false;\r\n                    ready = false;\r\n                }\r\n                unmountApp();\r\n            };\r\n            if (isBrowser) {\r\n                addDevtools(app, router, matcher);\r\n            }\r\n        },\r\n    };\r\n    return router;\r\n}\r\nfunction runGuardQueue(guards) {\r\n    return guards.reduce((promise, guard) => promise.then(() => guard()), Promise.resolve());\r\n}\r\nfunction extractChangingRecords(to, from) {\r\n    const leavingRecords = [];\r\n    const updatingRecords = [];\r\n    const enteringRecords = [];\r\n    const len = Math.max(from.matched.length, to.matched.length);\r\n    for (let i = 0; i < len; i++) {\r\n        const recordFrom = from.matched[i];\r\n        if (recordFrom) {\r\n            if (to.matched.find(record => isSameRouteRecord(record, recordFrom)))\r\n                updatingRecords.push(recordFrom);\r\n            else\r\n                leavingRecords.push(recordFrom);\r\n        }\r\n        const recordTo = to.matched[i];\r\n        if (recordTo) {\r\n            // the type doesn't matter because we are comparing per reference\r\n            if (!from.matched.find(record => isSameRouteRecord(record, recordTo))) {\r\n                enteringRecords.push(recordTo);\r\n            }\r\n        }\r\n    }\r\n    return [leavingRecords, updatingRecords, enteringRecords];\r\n}\n\n/**\r\n * Returns the router instance. Equivalent to using `$router` inside\r\n * templates.\r\n */\r\nfunction useRouter() {\r\n    return vue.inject(routerKey);\r\n}\r\n/**\r\n * Returns the current route location. Equivalent to using `$route` inside\r\n * templates.\r\n */\r\nfunction useRoute() {\r\n    return vue.inject(routeLocationKey);\r\n}\n\nexports.RouterLink = RouterLink;\nexports.RouterView = RouterView;\nexports.START_LOCATION = START_LOCATION_NORMALIZED;\nexports.createMemoryHistory = createMemoryHistory;\nexports.createRouter = createRouter;\nexports.createRouterMatcher = createRouterMatcher;\nexports.createWebHashHistory = createWebHashHistory;\nexports.createWebHistory = createWebHistory;\nexports.isNavigationFailure = isNavigationFailure;\nexports.matchedRouteKey = matchedRouteKey;\nexports.onBeforeRouteLeave = onBeforeRouteLeave;\nexports.onBeforeRouteUpdate = onBeforeRouteUpdate;\nexports.parseQuery = parseQuery;\nexports.routeLocationKey = routeLocationKey;\nexports.routerKey = routerKey;\nexports.routerViewLocationKey = routerViewLocationKey;\nexports.stringifyQuery = stringifyQuery;\nexports.useLink = useLink;\nexports.useRoute = useRoute;\nexports.useRouter = useRouter;\nexports.viewDepthKey = viewDepthKey;\n","module.exports = __WEBPACK_EXTERNAL_MODULE_vue__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./node_modules/vue-router/dist/vue-router.cjs.js\");\n",""],"names":["HOOK_SETUP","HOOK_PLUGIN_SETTINGS_SET","getDevtoolsGlobalHook","getTarget","__VUE_DEVTOOLS_GLOBAL_HOOK__","navigator","window","global","isProxyAvailable","Proxy","ApiProxy","setupDevtoolsPlugin","pluginDescriptor","setupFn","descriptor","target","hook","enableProxy","enableEarlyProxy","__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__","emit","proxy","list","__VUE_DEVTOOLS_PLUGINS__","push","proxiedTarget","constructor","plugin","targetQueue","onQueue","defaultSettings","settings","id","item","defaultValue","localSettingsSaveId","currentSettings","Object","assign","raw","localStorage","getItem","data","JSON","parse","e","fallbacks","getSettings","setSettings","value","setItem","stringify","on","pluginId","proxiedOn","get","_target","prop","args","method","keys","includes","resolve","Promise","setRealTarget","defineProperty","exports","vue","require","devtoolsApi","hasSymbol","Symbol","toStringTag","PolySymbol","name","matchedRouteKey","viewDepthKey","routerKey","routeLocationKey","routerViewLocationKey","isBrowser","isESModule","obj","__esModule","applyToParams","fn","params","newParams","key","Array","isArray","map","noop","warn","msg","from","arguments","slice","console","apply","concat","TRAILING_SLASH_RE","removeTrailingSlash","path","replace","parseURL","parseQuery","location","currentLocation","query","searchString","hash","searchPos","indexOf","hashPos","length","resolveRelativePath","fullPath","stringifyURL","stringifyQuery","stripBase","pathname","base","toLowerCase","startsWith","isSameRouteLocation","a","b","aLastIndex","matched","bLastIndex","isSameRouteRecord","isSameRouteLocationParams","aliasOf","isSameRouteLocationParamsValue","isEquivalentArray","every","i","to","fromSegments","split","toSegments","position","toPosition","segment","join","NavigationType","NavigationDirection","START","normalizeBase","baseEl","document","querySelector","getAttribute","BEFORE_HASH_RE","createHref","getElementPosition","el","offset","docRect","documentElement","getBoundingClientRect","elRect","behavior","left","top","computeScrollPosition","pageXOffset","pageYOffset","scrollToPosition","scrollToOptions","positionEl","isIdSelector","getElementById","foundEl","err","style","scrollTo","getScrollKey","delta","history","state","scrollPositions","Map","saveScrollPosition","scrollPosition","set","getSavedScrollPosition","scroll","delete","createBaseLocation","protocol","host","createCurrentLocation","search","slicePos","pathFromHash","useHistoryListeners","historyState","listeners","teardowns","pauseState","popStateHandler","fromState","forEach","listener","type","pop","direction","forward","back","unknown","pauseListeners","listen","callback","teardown","index","splice","beforeUnloadListener","replaceState","destroy","removeEventListener","addEventListener","buildState","current","replaced","computeScroll","useHistoryStateNavigation","changeLocation","hashIndex","url","currentState","createWebHistory","historyNavigation","historyListeners","go","triggerListeners","routerHistory","bind","enumerable","createMemoryHistory","queue","setLocation","info","shouldTrigger","Math","max","min","createWebHashHistory","endsWith","isRouteLocation","route","isRouteName","START_LOCATION_NORMALIZED","undefined","meta","redirectedFrom","NavigationFailureSymbol","NavigationFailureType","ErrorTypeMessages","stringifyRoute","createRouterError","Error","isNavigationFailure","error","propertiesToLog","BASE_PARAM_PATTERN","BASE_PATH_PARSER_OPTIONS","sensitive","strict","start","end","REGEX_CHARS_RE","tokensToParser","segments","extraOptions","options","score","pattern","segmentScores","tokenIndex","token","subSegmentScore","repeatable","optional","regexp","re","RegExp","message","subPattern","match","avoidDuplicatedSlash","param","text","compareScoreArray","diff","comparePathParserScore","aScore","bScore","comp","ROOT_TOKEN","VALID_PARAM_RE","tokenizePath","crash","buffer","previousState","tokens","finalizeSegment","char","customRe","consumeBuffer","addCharToBuffer","test","createRouteRecordMatcher","record","parent","parser","existingKeys","Set","has","add","matcher","children","alias","createRouterMatcher","routes","globalOptions","matchers","matcherMap","mergeOptions","getRecordMatcher","addRoute","originalRecord","isRootAdd","mainNormalizedRecord","normalizeRouteRecord","normalizedRecords","aliases","components","originalMatcher","normalizedRecord","parentPath","connectingSlash","checkMissingParamsInAbsolutePath","checkSameParams","isAliasRecord","removeRoute","insertMatcher","matcherRef","getRoutes","isRecordChildOf","paramsFromLocation","filter","k","find","m","parentMatcher","unshift","mergeMetaFields","redirect","beforeEnter","props","normalizeRecordProps","instances","leaveGuards","updateGuards","enterCallbacks","default","component","propsObject","reduce","defaults","partialOptions","isSameParam","some","child","HASH_RE","AMPERSAND_RE","SLASH_RE","EQUAL_RE","IM_RE","PLUS_RE","ENC_BRACKET_OPEN_RE","ENC_BRACKET_CLOSE_RE","ENC_CARET_RE","ENC_BACKTICK_RE","ENC_CURLY_OPEN_RE","ENC_PIPE_RE","ENC_CURLY_CLOSE_RE","ENC_SPACE_RE","commonEncode","encodeURI","encodeHash","encodeQueryValue","encodeQueryKey","encodePath","encodeParam","decode","decodeURIComponent","hasLeadingIM","searchParams","searchParam","eqPos","currentValue","values","v","normalizeQuery","normalizedQuery","useCallbacks","handlers","handler","reset","registerGuard","guard","removeFromList","onUnmounted","onDeactivated","onActivated","onBeforeRouteLeave","leaveGuard","getCurrentInstance","activeRecord","inject","onBeforeRouteUpdate","updateGuard","guardToPromiseFn","enterCallbackArray","reject","next","valid","guardReturn","call","canOnlyBeCalledOnce","guardCall","then","toString","resolvedValue","_called","catch","called","extractComponentsGuards","guardType","guards","rawComponent","String","promise","__asyncLoader","__warnedDefineAsync","isRouteComponent","__vccOpts","componentPromise","resolved","resolvedComponent","useLink","router","currentRoute","computed","unref","activeRecordIndex","routeMatched","currentMatched","findIndex","parentRecordPath","getOriginalPath","isActive","includesParams","isExactActive","navigate","guardEvent","instance","linkContextDevtools","__vrl_devtools","watchEffect","flush","href","RouterLinkImpl","defineComponent","required","Boolean","activeClass","exactActiveClass","custom","ariaCurrentValue","setup","slots","link","reactive","elClass","getLinkClass","linkActiveClass","linkExactActiveClass","h","onClick","class","RouterLink","metaKey","altKey","ctrlKey","shiftKey","defaultPrevented","button","currentTarget","preventDefault","outer","inner","innerValue","outerValue","propClass","globalClass","defaultClass","RouterViewImpl","inheritAttrs","attrs","warnDeprecatedUsage","injectedRoute","routeToDisplay","depth","matchedRouteRef","provide","viewRef","ref","watch","oldInstance","oldName","size","matchedRoute","ViewComponent","currentName","normalizeSlot","Component","routePropsOption","routeProps","onVnodeUnmounted","vnode","isUnmounted","internalInstances","r","__vrv_devtools","slot","slotContent","RouterView","parentName","formatRouteLocation","routeLocation","tooltip","copy","omit","_custom","readOnly","display","formatDisplay","routerId","addDevtools","app","__hasDevtools","label","packageName","homepage","logo","componentStateTypes","api","inspectComponent","payload","ctx","instanceData","editable","visitComponentTree","treeNode","node","componentInstance","tags","textColor","backgroundColor","PINK_500","__devtoolsApi","devtoolsData","ORANGE_400","LIME_500","BLUE_600","refreshRoutesView","notifyComponentUpdate","sendInspectorTree","routerInspectorId","sendInspectorState","navigationsLayerId","addTimelineLayer","color","onError","addTimelineEvent","layerId","event","title","subtitle","logType","time","Date","now","groupId","__navigationId","navigationId","beforeEach","afterEach","failure","status","addInspector","icon","treeFilterPlaceholder","activeRoutesPayload","resetMatchStateOnRouteRecord","isRouteMatching","markRouteRecordActive","rootNodes","formatRouteRecordForInspector","getInspectorTree","inspectorId","getInspectorState","__vd_id","nodeId","formatRouteRecordMatcherForStateInspector","modifierForKey","fields","CYAN_400","DARK","__vd_match","__vd_exactActive","__vd_active","routeRecordId","EXTRACT_REGEXP_RE","childRoute","found","nonEndingRE","decodedPath","ret","createRouter","parseQuery$1","stringifyQuery$1","beforeGuards","beforeResolveGuards","afterGuards","shallowRef","pendingLocation","scrollBehavior","scrollRestoration","normalizeParams","paramValue","encodeParams","decodeParams","parentOrRoute","recordMatcher","routeMatcher","hasRoute","rawLocation","locationNormalized","matcherLocation","targetParams","locationAsObject","checkCanceledNavigation","pushWithRedirect","handleRedirectRecord","lastMatched","newTargetLocation","targetLocation","force","shouldRedirect","toLocation","handleScroll","markAsReady","triggerError","_count","finalizeNavigation","triggerAfterEach","checkCanceledNavigationAndReject","leavingRecords","updatingRecords","enteringRecords","extractChangingRecords","reverse","canceledNavigationCheck","runGuardQueue","isPush","isFirstNavigation","removeHistoryListener","setupListeners","_from","readyHandlers","errorHandlers","ready","isReady","nextTick","started","installedApps","beforeResolve","install","config","globalProperties","$router","reactiveRoute","unmountApp","unmount","len","recordFrom","recordTo","useRouter","useRoute","START_LOCATION"],"sourceRoot":""}